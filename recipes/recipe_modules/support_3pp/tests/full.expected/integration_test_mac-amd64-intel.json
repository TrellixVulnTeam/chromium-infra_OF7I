[
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "compute_hash",
      "RECIPE_REPO[infra]",
      "recipes/recipe_modules/support_3pp",
      "recipes/recipes/3pp.py",
      "infra/tools/dockerbuild"
    ],
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "compute recipe file hash",
    "~followup_annotations": [
      "@@@STEP_TEXT@Hash calculated: deadbeef@@@"
    ]
  },
  {
    "cmd": [
      "echo",
      "3pp"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "echo package_prefix"
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "glob",
      "[CACHE]/builder/package_repo",
      "**/3pp.pb"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "find package specs",
    "~followup_annotations": [
      "@@@STEP_LOG_LINE@glob@[CACHE]/builder/package_repo/dir_build_tools/git_tool/3pp.pb@@@",
      "@@@STEP_LOG_LINE@glob@[CACHE]/builder/package_repo/dir_build_tools/tool/3pp.pb@@@",
      "@@@STEP_LOG_LINE@glob@[CACHE]/builder/package_repo/dir_deps/bottom_dep_git/3pp.pb@@@",
      "@@@STEP_LOG_LINE@glob@[CACHE]/builder/package_repo/dir_deps/bottom_dep_url/3pp.pb@@@",
      "@@@STEP_LOG_LINE@glob@[CACHE]/builder/package_repo/dir_deps/deep_dep/3pp.pb@@@",
      "@@@STEP_LOG_LINE@glob@[CACHE]/builder/package_repo/dir_deps/dep/3pp.pb@@@",
      "@@@STEP_LOG_LINE@glob@[CACHE]/builder/package_repo/dir_fetch/fetch_and_package/3pp.pb@@@",
      "@@@STEP_LOG_LINE@glob@[CACHE]/builder/package_repo/dir_tools/already_uploaded/3pp.pb@@@",
      "@@@STEP_LOG_LINE@glob@[CACHE]/builder/package_repo/dir_tools/pkg/3pp.pb@@@",
      "@@@STEP_LOG_LINE@glob@[CACHE]/builder/package_repo/dir_tools/pkg_checkout/3pp.pb@@@",
      "@@@STEP_LOG_LINE@glob@[CACHE]/builder/package_repo/dir_tools/pkg_override_and_no_latest/3pp.pb@@@",
      "@@@STEP_LOG_LINE@glob@[CACHE]/builder/package_repo/dir_tools/posix_tool/3pp.pb@@@",
      "@@@STEP_LOG_LINE@glob@[CACHE]/builder/package_repo/dir_tools/windows_experiment/3pp.pb@@@",
      "@@@STEP_LOG_LINE@glob@[CACHE]/builder/package_repo/unsupported/3pp.pb@@@",
      "@@@STEP_LOG_LINE@glob@[CACHE]/builder/package_repo/unsupported_no_method/3pp.pb@@@",
      "@@@STEP_LOG_END@glob@@@"
    ]
  },
  {
    "cmd": [],
    "name": "load package specs"
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "copy",
      "[CACHE]/builder/package_repo/dir_build_tools/git_tool/3pp.pb",
      "/path/to/tmp/"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "load package specs.read 'dir_build_tools/git_tool/3pp.pb'",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_LOG_LINE@3pp.pb@@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  create {@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    source {@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      git {@@@",
      "@@@STEP_LOG_LINE@3pp.pb@        repo: \"https://chromium.googlesource.com/external/go.repo/git_tool\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@        tag_pattern: \"v%s\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@        version_join: \".\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      subdir: \"src/go.repo/tool\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      patch_dir: \"patches\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      patch_version: \"chops.1\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    build {@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      # We use an older version of the tool to bootstrap new versions.@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      tool: \"build_tools/tool@0.9.0\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      dep: \"deps/bottom_dep_url\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      dep: \"deps/bottom_dep_git\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      install: \"install.sh\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      install: \"intel\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    package {@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      version_file: \".versions/tool.cipd_version\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  create {@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    platform_re: \"mac-.*\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    build {@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      install: \"install-mac.sh\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    package {@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      install_mode: symlink@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    verify {@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      test: \"test.py\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      test: \"mac\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  create {@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    platform_re: \"windows-.*\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    verify {@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      test: \"test.py\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      test: \"windows\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  create {@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    platform_re: \"linux-.*\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    verify {@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      test: \"test.py\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      test: \"linux\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  create {@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    platform_re: \"linux-arm.*\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    build {@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      install: \"install.sh\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      install: \"arm\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  create {@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    platform_re: \"linux-amd64\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    build {@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      # on linux-amd64 we self-bootstrap the tool@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      tool: \"\"  # clears tool@0.9.0@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      install: \"install_bootstrap.sh\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  upload { pkg_prefix: \"build_tools\" }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  @@@",
      "@@@STEP_LOG_END@3pp.pb@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "compute_hash",
      "[START_DIR]",
      "../[CACHE]/builder/package_repo/dir_build_tools/git_tool"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "load package specs.Compute hash for 'build_tools/git_tool'",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_TEXT@Hash calculated: deadbeef@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "copy",
      "[CACHE]/builder/package_repo/dir_build_tools/tool/3pp.pb",
      "/path/to/tmp/"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "load package specs.read 'dir_build_tools/tool/3pp.pb'",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_LOG_LINE@3pp.pb@@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  create {@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    source {@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      git {@@@",
      "@@@STEP_LOG_LINE@3pp.pb@        repo: \"https://go.repo/tool\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@        tag_pattern: \"v%s\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@        version_join: \".\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      subdir: \"src/go.repo/tool\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      patch_dir: \"patches\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      patch_version: \"chops.1\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    build {@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      # We use an older version of the tool to bootstrap new versions.@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      tool: \"build_tools/tool@0.9.0\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      dep: \"deps/bottom_dep_url\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      dep: \"deps/bottom_dep_git\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      install: \"install.sh\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      install: \"intel\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    package {@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      version_file: \".versions/tool.cipd_version\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  create {@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    platform_re: \"mac-.*\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    build {@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      install: \"install-mac.sh\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    package {@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      install_mode: symlink@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    verify {@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      test: \"test.py\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      test: \"mac\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  create {@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    platform_re: \"windows-.*\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    verify {@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      test: \"test.py\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      test: \"windows\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  create {@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    platform_re: \"linux-.*\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    verify {@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      test: \"test.py\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      test: \"linux\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  create {@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    platform_re: \"linux-arm.*\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    build {@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      install: \"install.sh\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      install: \"arm\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  create {@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    platform_re: \"linux-amd64\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    build {@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      # on linux-amd64 we self-bootstrap the tool@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      tool: \"\"  # clears tool@0.9.0@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      install: \"install_bootstrap.sh\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  upload { pkg_prefix: \"build_tools\" }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  @@@",
      "@@@STEP_LOG_END@3pp.pb@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "compute_hash",
      "[START_DIR]",
      "../[CACHE]/builder/package_repo/dir_build_tools/tool"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "load package specs.Compute hash for 'build_tools/tool'",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_TEXT@Hash calculated: deadbeef@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "copy",
      "[CACHE]/builder/package_repo/dir_deps/bottom_dep_git/3pp.pb",
      "/path/to/tmp/"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "load package specs.read 'dir_deps/bottom_dep_git/3pp.pb'",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_LOG_LINE@3pp.pb@@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  create {@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    source { git {@@@",
      "@@@STEP_LOG_LINE@3pp.pb@        repo: \"https://chromium.googlesource.com/external/go.repo/dep\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@        tag_pattern: \"v%s\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    } }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    build {}@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  upload { pkg_prefix: \"deps\" }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  @@@",
      "@@@STEP_LOG_END@3pp.pb@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "compute_hash",
      "[START_DIR]",
      "../[CACHE]/builder/package_repo/dir_deps/bottom_dep_git"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "load package specs.Compute hash for 'deps/bottom_dep_git'",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_TEXT@Hash calculated: deadbeef@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "copy",
      "[CACHE]/builder/package_repo/dir_deps/bottom_dep_url/3pp.pb",
      "/path/to/tmp/"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "load package specs.read 'dir_deps/bottom_dep_url/3pp.pb'",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_LOG_LINE@3pp.pb@@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  create {@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    source { url {@@@",
      "@@@STEP_LOG_LINE@3pp.pb@        download_url: \"https://some.internet.example.com\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@        version: \"1.2.3\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    } }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    build {}@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  upload { pkg_prefix: \"deps\" }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  @@@",
      "@@@STEP_LOG_END@3pp.pb@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "compute_hash",
      "[START_DIR]",
      "../[CACHE]/builder/package_repo/dir_deps/bottom_dep_url"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "load package specs.Compute hash for 'deps/bottom_dep_url'",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_TEXT@Hash calculated: deadbeef@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "copy",
      "[CACHE]/builder/package_repo/dir_deps/deep_dep/3pp.pb",
      "/path/to/tmp/"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "load package specs.read 'dir_deps/deep_dep/3pp.pb'",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_LOG_LINE@3pp.pb@@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  create {@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    source {@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      cipd {@@@",
      "@@@STEP_LOG_LINE@3pp.pb@        pkg: \"source/deep_dep\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@        default_version: \"latest\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@        original_download_url: \"https://some.internet.example.com\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      patch_version: 'cr0'@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  upload { pkg_prefix: \"deps\" }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  @@@",
      "@@@STEP_LOG_END@3pp.pb@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "compute_hash",
      "[START_DIR]",
      "../[CACHE]/builder/package_repo/dir_deps/deep_dep"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "load package specs.Compute hash for 'deps/deep_dep'",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_TEXT@Hash calculated: deadbeef@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "copy",
      "[CACHE]/builder/package_repo/dir_deps/dep/3pp.pb",
      "/path/to/tmp/"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "load package specs.read 'dir_deps/dep/3pp.pb'",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_LOG_LINE@3pp.pb@@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  create {@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    source { cipd {@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      pkg: \"source/dep\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      default_version: \"1.0.0\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      original_download_url: \"https://some.internet.example.com\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    } }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    build {@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      tool: \"build_tools/tool\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      dep: \"deps/deep_dep\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  upload { pkg_prefix: \"deps\" }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  @@@",
      "@@@STEP_LOG_END@3pp.pb@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "compute_hash",
      "[START_DIR]",
      "../[CACHE]/builder/package_repo/dir_deps/dep"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "load package specs.Compute hash for 'deps/dep'",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_TEXT@Hash calculated: deadbeef@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "copy",
      "[CACHE]/builder/package_repo/dir_fetch/fetch_and_package/3pp.pb",
      "/path/to/tmp/"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "load package specs.read 'dir_fetch/fetch_and_package/3pp.pb'",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_LOG_LINE@3pp.pb@@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  create { source { script { name: \"fetch.py\" } } }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  upload {@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    pkg_prefix: \"tools\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    universal: true@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  @@@",
      "@@@STEP_LOG_END@3pp.pb@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "compute_hash",
      "[START_DIR]",
      "../[CACHE]/builder/package_repo/dir_fetch/fetch_and_package"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "load package specs.Compute hash for 'tools/fetch_and_package'",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_TEXT@Hash calculated: deadbeef@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "copy",
      "[CACHE]/builder/package_repo/dir_tools/already_uploaded/3pp.pb",
      "/path/to/tmp/"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "load package specs.read 'dir_tools/already_uploaded/3pp.pb'",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_LOG_LINE@3pp.pb@@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  create {@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    source { cipd {@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      pkg: \"source/already_uploaded\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      default_version: \"1.5.0-rc1\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      original_download_url: \"https://some.internet.example.com\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    } }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  upload { pkg_prefix: \"tools\" }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  @@@",
      "@@@STEP_LOG_END@3pp.pb@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "compute_hash",
      "[START_DIR]",
      "../[CACHE]/builder/package_repo/dir_tools/already_uploaded"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "load package specs.Compute hash for 'tools/already_uploaded'",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_TEXT@Hash calculated: deadbeef@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "copy",
      "[CACHE]/builder/package_repo/dir_tools/pkg/3pp.pb",
      "/path/to/tmp/"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "load package specs.read 'dir_tools/pkg/3pp.pb'",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_LOG_LINE@3pp.pb@@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  create {@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    source { script { name: \"fetch.py\" } }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    build {@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      tool: \"build_tools/tool\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      dep:  \"deps/dep\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  upload { pkg_prefix: \"tools\" }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  @@@",
      "@@@STEP_LOG_END@3pp.pb@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "compute_hash",
      "[START_DIR]",
      "../[CACHE]/builder/package_repo/dir_tools/pkg"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "load package specs.Compute hash for 'tools/pkg'",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_TEXT@Hash calculated: deadbeef@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "copy",
      "[CACHE]/builder/package_repo/dir_tools/pkg_checkout/3pp.pb",
      "/path/to/tmp/"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "load package specs.read 'dir_tools/pkg_checkout/3pp.pb'",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_LOG_LINE@3pp.pb@@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  create {@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    source { script {@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      name: \"fetch.py\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      use_fetch_checkout_workflow: true@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    } }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    build {@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      tool: \"build_tools/tool\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      dep:  \"deps/dep\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  upload { pkg_prefix: \"tools\" }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  @@@",
      "@@@STEP_LOG_END@3pp.pb@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "compute_hash",
      "[START_DIR]",
      "../[CACHE]/builder/package_repo/dir_tools/pkg_checkout"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "load package specs.Compute hash for 'tools/pkg_checkout'",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_TEXT@Hash calculated: deadbeef@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "copy",
      "[CACHE]/builder/package_repo/dir_tools/pkg_override_and_no_latest/3pp.pb",
      "/path/to/tmp/"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "load package specs.read 'dir_tools/pkg_override_and_no_latest/3pp.pb'",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_LOG_LINE@3pp.pb@@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  create {@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    source { url {@@@",
      "@@@STEP_LOG_LINE@3pp.pb@        download_url: \"https://some.internet.example.com\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@        version: \"1.1.2\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    } }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    build {}@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    package { disable_latest_ref: true }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  upload {@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    pkg_prefix: \"tools\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    pkg_name_override: \"pkg\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  @@@",
      "@@@STEP_LOG_END@3pp.pb@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "compute_hash",
      "[START_DIR]",
      "../[CACHE]/builder/package_repo/dir_tools/pkg_override_and_no_latest"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "load package specs.Compute hash for 'tools/pkg_override_and_no_latest'",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_TEXT@Hash calculated: deadbeef@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "copy",
      "[CACHE]/builder/package_repo/dir_tools/posix_tool/3pp.pb",
      "/path/to/tmp/"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "load package specs.read 'dir_tools/posix_tool/3pp.pb'",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_LOG_LINE@3pp.pb@@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  create {@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    platform_re: \"linux-.*|mac-.*\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    source {@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      cipd {@@@",
      "@@@STEP_LOG_LINE@3pp.pb@        pkg: \"source/posix_tool\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@        default_version: \"1.2.0\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@        original_download_url: \"https://some.internet.example.com\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      unpack_archive: true@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    build {}  # default build options@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  upload { pkg_prefix: \"tools\" }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  @@@",
      "@@@STEP_LOG_END@3pp.pb@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "compute_hash",
      "[START_DIR]",
      "../[CACHE]/builder/package_repo/dir_tools/posix_tool"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "load package specs.Compute hash for 'tools/posix_tool'",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_TEXT@Hash calculated: deadbeef@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "copy",
      "[CACHE]/builder/package_repo/dir_tools/windows_experiment/3pp.pb",
      "/path/to/tmp/"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "load package specs.read 'dir_tools/windows_experiment/3pp.pb'",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_LOG_LINE@3pp.pb@@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  create {@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    platform_re: \"linux-.*|mac-.*\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    source { script { name: \"fetch.py\" } }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    build {}@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  create {@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    platform_re: \"windows-.*\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    experimental: true@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    source { script { name: \"fetch.py\" } }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    build {@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      install: \"win_install.py\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    package {@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      alter_version_re: \"(.*)\\.windows\\.\\d*(.*)\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@      alter_version_replace: \"\\\\1\\\\2\"@@@",
      "@@@STEP_LOG_LINE@3pp.pb@    }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  upload { pkg_prefix: \"tools\" }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  @@@",
      "@@@STEP_LOG_END@3pp.pb@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "compute_hash",
      "[START_DIR]",
      "../[CACHE]/builder/package_repo/dir_tools/windows_experiment"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "load package specs.Compute hash for 'tools/windows_experiment'",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_TEXT@Hash calculated: deadbeef@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "copy",
      "[CACHE]/builder/package_repo/unsupported/3pp.pb",
      "/path/to/tmp/"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "load package specs.read 'unsupported/3pp.pb'",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_LOG_LINE@3pp.pb@@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  create { unsupported: true }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  @@@",
      "@@@STEP_LOG_END@3pp.pb@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "compute_hash",
      "[START_DIR]",
      "../[CACHE]/builder/package_repo/unsupported"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "load package specs.Compute hash for 'unsupported'",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_TEXT@Hash calculated: deadbeef@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "copy",
      "[CACHE]/builder/package_repo/unsupported_no_method/3pp.pb",
      "/path/to/tmp/"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "load package specs.read 'unsupported_no_method/3pp.pb'",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_LOG_LINE@3pp.pb@@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  create { verify { test: \"verify.py\" } }@@@",
      "@@@STEP_LOG_LINE@3pp.pb@  @@@",
      "@@@STEP_LOG_END@3pp.pb@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "compute_hash",
      "[START_DIR]",
      "../[CACHE]/builder/package_repo/unsupported_no_method"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "load package specs.Compute hash for 'unsupported_no_method'",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_TEXT@Hash calculated: deadbeef@@@"
    ]
  },
  {
    "cmd": [],
    "name": "compute build plan"
  },
  {
    "cmd": [],
    "name": "building deps/bottom_dep_git"
  },
  {
    "cmd": [
      "git",
      "ls-remote",
      "-t",
      "https://chromium.googlesource.com/external/go.repo/dep"
    ],
    "cwd": "None",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/bottom_dep_git",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/bottom_dep_git.git ls-remote",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_TEXT@resolved version: 1.5.0-rc1@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "describe",
      "3pp/deps/bottom_dep_git/mac-amd64",
      "-version",
      "version:2@1.5.0-rc1",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/bottom_dep_git",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/bottom_dep_git.cipd describe 3pp/deps/bottom_dep_git/mac-amd64",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_TEXT@tag 'version:2@1.5.0-rc1' not found@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"error\": \"no such tag\", @@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": null@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "ensure-directory",
      "--mode",
      "0777",
      "[START_DIR]/3pp/wd/deps/bottom_dep_git/mac-amd64/1.5.0-rc1"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/bottom_dep_git",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/bottom_dep_git.mkdir -p [workdir]",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@"
    ]
  },
  {
    "cmd": [],
    "name": "building deps/bottom_dep_git.fetch sources",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "describe",
      "3pp/sources/git/go.repo/dep",
      "-version",
      "version:2@1.5.0-rc1",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/bottom_dep_git",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/bottom_dep_git.fetch sources.cipd describe 3pp/sources/git/go.repo/dep",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"error\": \"no such tag\", @@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": null@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "ensure-directory",
      "--mode",
      "0777",
      "[START_DIR]/3pp/wd/deps/bottom_dep_git/mac-amd64/1.5.0-rc1/checkout"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/bottom_dep_git",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/bottom_dep_git.fetch sources.mkdir -p [workdir]/checkout/",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "describe",
      "3pp/sources/git/go.repo/dep",
      "-version",
      "version:2@1.5.0-rc1",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/bottom_dep_git",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/bottom_dep_git.fetch sources.cipd describe 3pp/sources/git/go.repo/dep (2)",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_TEXT@tag 'version:2@1.5.0-rc1' not found@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"error\": \"no such tag\", @@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": null@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "python3",
      "-u",
      "RECIPE_MODULE[depot_tools::git]/resources/git_setup.py",
      "--path",
      "[START_DIR]/3pp/wd/deps/bottom_dep_git/mac-amd64/1.5.0-rc1/checkout",
      "--url",
      "https://chromium.googlesource.com/external/go.repo/dep"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/bottom_dep_git",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/bottom_dep_git.fetch sources.git setup",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "git",
      "fetch",
      "origin",
      "hash",
      "--progress",
      "--tags"
    ],
    "cwd": "[START_DIR]/3pp/wd/deps/bottom_dep_git/mac-amd64/1.5.0-rc1/checkout",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "PATH": "RECIPE_REPO[depot_tools]:<PATH>",
      "_3PP_CIPD_PACKAGE_NAME": "deps/bottom_dep_git",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/bottom_dep_git.fetch sources.git fetch",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "git",
      "checkout",
      "-f",
      "FETCH_HEAD"
    ],
    "cwd": "[START_DIR]/3pp/wd/deps/bottom_dep_git/mac-amd64/1.5.0-rc1/checkout",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/bottom_dep_git",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/bottom_dep_git.fetch sources.git checkout",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "git",
      "rev-parse",
      "HEAD"
    ],
    "cwd": "[START_DIR]/3pp/wd/deps/bottom_dep_git/mac-amd64/1.5.0-rc1/checkout",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/bottom_dep_git",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/bottom_dep_git.fetch sources.read revision",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_TEXT@<br/>checked out 'deadbeef'<br/>@@@"
    ]
  },
  {
    "cmd": [
      "git",
      "clean",
      "-f",
      "-d",
      "-x"
    ],
    "cwd": "[START_DIR]/3pp/wd/deps/bottom_dep_git/mac-amd64/1.5.0-rc1/checkout",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/bottom_dep_git",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/bottom_dep_git.fetch sources.git clean",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "git",
      "submodule",
      "sync"
    ],
    "cwd": "[START_DIR]/3pp/wd/deps/bottom_dep_git/mac-amd64/1.5.0-rc1/checkout",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/bottom_dep_git",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/bottom_dep_git.fetch sources.submodule sync",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "git",
      "submodule",
      "update",
      "--init",
      "--recursive"
    ],
    "cwd": "[START_DIR]/3pp/wd/deps/bottom_dep_git/mac-amd64/1.5.0-rc1/checkout",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/bottom_dep_git",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/bottom_dep_git.fetch sources.submodule update",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "pkg-build",
      "-pkg-def",
      "{\"data\": [{\"dir\": \".\", \"exclude\": [\"\\\\.git\"]}], \"install_mode\": \"copy\", \"package\": \"3pp/sources/git/go.repo/dep\", \"preserve_writable\": true, \"root\": \"[START_DIR]/3pp/wd/deps/bottom_dep_git/mac-amd64/1.5.0-rc1/checkout\"}",
      "-out",
      "[CLEANUP]/tmp_tmp_2",
      "-hash-algo",
      "sha256",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/bottom_dep_git",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/bottom_dep_git.fetch sources.build 3pp/sources/git/go.repo/dep",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"instance_id\": \"40-chars-fake-of-the-package-instance_id\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"package\": \"3pp/sources/git/go.repo/dep\"@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "ensure-directory",
      "--mode",
      "0777",
      "[CACHE]/3pp_cipd/3pp/sources/git/go.repo/dep"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/bottom_dep_git",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/bottom_dep_git.fetch sources.ensure cipd pkg cache exists",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "move",
      "[CLEANUP]/tmp_tmp_2",
      "[CACHE]/3pp_cipd/3pp/sources/git/go.repo/dep/40-chars-fake-of-the-package-instance_id"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/bottom_dep_git",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/bottom_dep_git.fetch sources.mv built cipd pkg to cache",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [],
    "name": "building deps/bottom_dep_git.fetch sources.upload source to cipd",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "describe",
      "3pp/sources/git/go.repo/dep",
      "-version",
      "version:2@1.5.0-rc1",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/bottom_dep_git",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/bottom_dep_git.fetch sources.upload source to cipd.cipd describe 3pp/sources/git/go.repo/dep",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@3@@@",
      "@@@STEP_TEXT@tag 'version:2@1.5.0-rc1' not found@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"error\": \"no such tag\", @@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": null@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "pkg-register",
      "[CACHE]/3pp_cipd/3pp/sources/git/go.repo/dep/40-chars-fake-of-the-package-instance_id",
      "-tag",
      "build_id:8945511751514863184",
      "-tag",
      "external_hash:hash",
      "-tag",
      "version:2@1.5.0-rc1",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/bottom_dep_git",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/bottom_dep_git.fetch sources.upload source to cipd.register 3pp/sources/git/go.repo/dep",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@3@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"instance_id\": \"40-chars-fake-of-the-package-instance_id\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"package\": \"3pp/sources/git/go.repo/dep\"@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@",
      "@@@STEP_LINK@3pp/sources/git/go.repo/dep@https://chrome-infra-packages.appspot.com/p/3pp/sources/git/go.repo/dep/+/40-chars-fake-of-the-package-instance_id@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "copytree",
      "[CACHE]/builder/package_repo/dir_deps/bottom_dep_git",
      "[START_DIR]/3pp/wd/deps/bottom_dep_git/mac-amd64/1.5.0-rc1/checkout/.3pp/deps/bottom_dep_git"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/bottom_dep_git",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/bottom_dep_git.fetch sources.copy package definition deps/bottom_dep_git",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [],
    "name": "building deps/bottom_dep_git.run installation",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "ensure-directory",
      "--mode",
      "0777",
      "[START_DIR]/3pp/wd/deps/bottom_dep_git/mac-amd64/1.5.0-rc1/out"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/bottom_dep_git",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/bottom_dep_git.run installation.make output dir",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "ensure",
      "-root",
      "[CACHE]/osx_sdk",
      "-ensure-file",
      "infra/tools/mac_toolchain/${platform} git_revision:723fc1a6c8cdf2631a57851f5610e598db0c1de1",
      "-max-threads",
      "0",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "cwd": "[START_DIR]/3pp/wd/deps/bottom_dep_git/mac-amd64/1.5.0-rc1/checkout",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/bottom_dep_git",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "env_prefixes": {
      "PATH": [
        "[START_DIR]/3pp/wd/deps/bottom_dep_git/mac-amd64/1.5.0-rc1/tools_prefix",
        "[START_DIR]/3pp/wd/deps/bottom_dep_git/mac-amd64/1.5.0-rc1/tools_prefix/bin"
      ]
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/bottom_dep_git.run installation.ensure_installed",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"\": [@@@",
      "@@@STEP_LOG_LINE@json.output@      {@@@",
      "@@@STEP_LOG_LINE@json.output@        \"instance_id\": \"resolved-instance_id-of-git_revision:723\", @@@",
      "@@@STEP_LOG_LINE@json.output@        \"package\": \"infra/tools/mac_toolchain/resolved-platform\"@@@",
      "@@@STEP_LOG_LINE@json.output@      }@@@",
      "@@@STEP_LOG_LINE@json.output@    ]@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "[CACHE]/osx_sdk/mac_toolchain",
      "install",
      "-kind",
      "mac",
      "-xcode-version",
      "9f2000",
      "-output-dir",
      "[CACHE]/osx_sdk/XCode.app"
    ],
    "cwd": "[START_DIR]/3pp/wd/deps/bottom_dep_git/mac-amd64/1.5.0-rc1/checkout",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/bottom_dep_git",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "env_prefixes": {
      "PATH": [
        "[START_DIR]/3pp/wd/deps/bottom_dep_git/mac-amd64/1.5.0-rc1/tools_prefix",
        "[START_DIR]/3pp/wd/deps/bottom_dep_git/mac-amd64/1.5.0-rc1/tools_prefix/bin"
      ]
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/bottom_dep_git.run installation.install xcode",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "sudo",
      "xcode-select",
      "--switch",
      "[CACHE]/osx_sdk/XCode.app"
    ],
    "cwd": "[START_DIR]/3pp/wd/deps/bottom_dep_git/mac-amd64/1.5.0-rc1/checkout",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/bottom_dep_git",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "env_prefixes": {
      "PATH": [
        "[START_DIR]/3pp/wd/deps/bottom_dep_git/mac-amd64/1.5.0-rc1/tools_prefix",
        "[START_DIR]/3pp/wd/deps/bottom_dep_git/mac-amd64/1.5.0-rc1/tools_prefix/bin"
      ]
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/bottom_dep_git.run installation.select XCode",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "bash",
      "[START_DIR]/3pp/wd/deps/bottom_dep_git/mac-amd64/1.5.0-rc1/checkout/.3pp/deps/bottom_dep_git/install.sh",
      "[START_DIR]/3pp/wd/deps/bottom_dep_git/mac-amd64/1.5.0-rc1/out",
      "[START_DIR]/3pp/wd/deps/bottom_dep_git/mac-amd64/1.5.0-rc1/deps_prefix"
    ],
    "cwd": "[START_DIR]/3pp/wd/deps/bottom_dep_git/mac-amd64/1.5.0-rc1/checkout",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/bottom_dep_git",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "env_prefixes": {
      "PATH": [
        "RECIPE_MODULE[infra::support_3pp]/resources/mac_support",
        "[START_DIR]/3pp/wd/deps/bottom_dep_git/mac-amd64/1.5.0-rc1/tools_prefix",
        "[START_DIR]/3pp/wd/deps/bottom_dep_git/mac-amd64/1.5.0-rc1/tools_prefix/bin"
      ]
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/bottom_dep_git.run installation.install.sh [START_DIR]/3pp/wd/deps/bottom_dep_git/mac-amd64/1.5.0-rc1/out [START_DIR]/3pp/wd/deps/bottom_dep_git/mac-amd64/1.5.0-rc1/deps_prefix",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "sudo",
      "xcode-select",
      "--reset"
    ],
    "cwd": "[START_DIR]/3pp/wd/deps/bottom_dep_git/mac-amd64/1.5.0-rc1/checkout",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/bottom_dep_git",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "env_prefixes": {
      "PATH": [
        "[START_DIR]/3pp/wd/deps/bottom_dep_git/mac-amd64/1.5.0-rc1/tools_prefix",
        "[START_DIR]/3pp/wd/deps/bottom_dep_git/mac-amd64/1.5.0-rc1/tools_prefix/bin"
      ]
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/bottom_dep_git.run installation.reset XCode",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "listdir",
      "[START_DIR]/3pp/wd/deps/bottom_dep_git/mac-amd64/1.5.0-rc1/out",
      "--recursive"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/bottom_dep_git",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/bottom_dep_git.List files to be packaged",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_LOG_END@listdir@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "pkg-build",
      "-pkg-def",
      "{\"data\": [{\"dir\": \".\", \"exclude\": []}], \"install_mode\": \"copy\", \"package\": \"3pp/deps/bottom_dep_git/mac-amd64\", \"root\": \"[START_DIR]/3pp/wd/deps/bottom_dep_git/mac-amd64/1.5.0-rc1/out\"}",
      "-out",
      "[CLEANUP]/tmp_tmp_3",
      "-hash-algo",
      "sha256",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/bottom_dep_git",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/bottom_dep_git.build 3pp/deps/bottom_dep_git/mac-amd64",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"instance_id\": \"40-chars-fake-of-the-package-instance_id\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"package\": \"3pp/deps/bottom_dep_git/mac-amd64\"@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "ensure-directory",
      "--mode",
      "0777",
      "[CACHE]/3pp_cipd/3pp/deps/bottom_dep_git/mac-amd64"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/bottom_dep_git",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/bottom_dep_git.ensure cipd pkg cache exists",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "move",
      "[CLEANUP]/tmp_tmp_3",
      "[CACHE]/3pp_cipd/3pp/deps/bottom_dep_git/mac-amd64/40-chars-fake-of-the-package-instance_id"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/bottom_dep_git",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/bottom_dep_git.mv built cipd pkg to cache",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@"
    ]
  },
  {
    "cmd": [],
    "name": "building deps/bottom_dep_git.do upload",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_LINK@40-chars-fake-of-the-package-instance_id@https://chrome-infra-packages.appspot.com/p/3pp/deps/bottom_dep_git/mac-amd64/+/40-chars-fake-of-the-package-instance_id@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "describe",
      "3pp/deps/bottom_dep_git/mac-amd64",
      "-version",
      "version:2@1.5.0-rc1",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/bottom_dep_git",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/bottom_dep_git.do upload.cipd describe 3pp/deps/bottom_dep_git/mac-amd64",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_TEXT@tag 'version:2@1.5.0-rc1' not found@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"error\": \"no such tag\", @@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": null@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "pkg-register",
      "[CACHE]/3pp_cipd/3pp/deps/bottom_dep_git/mac-amd64/40-chars-fake-of-the-package-instance_id",
      "-ref",
      "latest",
      "-tag",
      "3pp_ecosystem_hash:2393a4a4151c4933f7b07a7037bf824a0092acc8cf9a8c99f39b126f3b078b3b",
      "-tag",
      "build_id:8945511751514863184",
      "-tag",
      "version:2@1.5.0-rc1",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/bottom_dep_git",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/bottom_dep_git.do upload.register 3pp/deps/bottom_dep_git/mac-amd64",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"instance_id\": \"40-chars-fake-of-the-package-instance_id\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"package\": \"3pp/deps/bottom_dep_git/mac-amd64\"@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@",
      "@@@STEP_LINK@3pp/deps/bottom_dep_git/mac-amd64@https://chrome-infra-packages.appspot.com/p/3pp/deps/bottom_dep_git/mac-amd64/+/40-chars-fake-of-the-package-instance_id@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "file_hash",
      "[CACHE]/3pp_cipd/3pp/deps/bottom_dep_git/mac-amd64/40-chars-fake-of-the-package-instance_id"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/bottom_dep_git",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/bottom_dep_git.do upload.Compute file hash",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_TEXT@Hash calculated: deadbeef@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "ensure",
      "-root",
      "[START_DIR]/snoopy",
      "-ensure-file",
      "infra/tools/security/snoopy_broker/${platform} git_revision:7fabcd7ceec5e7e1a2462b9aad1f7082244fc0f7",
      "-max-threads",
      "0",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/bottom_dep_git",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/bottom_dep_git.do upload.ensure_installed",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"\": [@@@",
      "@@@STEP_LOG_LINE@json.output@      {@@@",
      "@@@STEP_LOG_LINE@json.output@        \"instance_id\": \"resolved-instance_id-of-git_revision:7fa\", @@@",
      "@@@STEP_LOG_LINE@json.output@        \"package\": \"infra/tools/security/snoopy_broker/resolved-platform\"@@@",
      "@@@STEP_LOG_LINE@json.output@      }@@@",
      "@@@STEP_LOG_LINE@json.output@    ]@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "[START_DIR]/snoopy/snoopy_broker",
      "-report-cipd",
      "-digest",
      "deadbeef",
      "-pkg-name",
      "3pp/deps/bottom_dep_git/mac-amd64",
      "-iid",
      "40-chars-fake-of-the-package-instance_id"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/bottom_dep_git",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/bottom_dep_git.do upload.report_cipd",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [],
    "name": "building deps/bottom_dep_url"
  },
  {
    "cmd": [
      "cipd",
      "describe",
      "3pp/deps/bottom_dep_url/mac-amd64",
      "-version",
      "version:2@1.2.3",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/bottom_dep_url",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/bottom_dep_url.cipd describe 3pp/deps/bottom_dep_url/mac-amd64",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_TEXT@tag 'version:2@1.2.3' not found@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"error\": \"no such tag\", @@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": null@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "ensure-directory",
      "--mode",
      "0777",
      "[START_DIR]/3pp/wd/deps/bottom_dep_url/mac-amd64/1.2.3"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/bottom_dep_url",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.2.3"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/bottom_dep_url.mkdir -p [workdir]",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@"
    ]
  },
  {
    "cmd": [],
    "name": "building deps/bottom_dep_url.fetch sources",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "ensure-directory",
      "--mode",
      "0777",
      "[START_DIR]/3pp/wd/deps/bottom_dep_url/mac-amd64/1.2.3/checkout"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/bottom_dep_url",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.2.3"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/bottom_dep_url.fetch sources.mkdir -p [workdir]/checkout/",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "describe",
      "3pp/sources/url/deps/bottom_dep_url/mac-amd64",
      "-version",
      "version:2@1.2.3",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/bottom_dep_url",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.2.3"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/bottom_dep_url.fetch sources.cipd describe 3pp/sources/url/deps/bottom_dep_url/mac-amd64",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_TEXT@tag 'version:2@1.2.3' not found@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"error\": \"no such tag\", @@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": null@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::url]/resources/pycurl.py",
      "--url",
      "https://some.internet.example.com",
      "--status-json",
      "/path/to/tmp/json",
      "--outfile",
      "[START_DIR]/3pp/wd/deps/bottom_dep_url/mac-amd64/1.2.3/checkout/raw_source_0.tar.gz"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/bottom_dep_url",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.2.3"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/bottom_dep_url.fetch sources.GET https://some.internet.example.com",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "pkg-build",
      "-pkg-def",
      "{\"data\": [{\"dir\": \".\", \"exclude\": []}], \"install_mode\": \"copy\", \"package\": \"3pp/sources/url/deps/bottom_dep_url/mac-amd64\", \"preserve_writable\": true, \"root\": \"[START_DIR]/3pp/wd/deps/bottom_dep_url/mac-amd64/1.2.3/checkout\"}",
      "-out",
      "[CLEANUP]/tmp_tmp_4",
      "-hash-algo",
      "sha256",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/bottom_dep_url",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.2.3"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/bottom_dep_url.fetch sources.build 3pp/sources/url/deps/bottom_dep_url/mac-amd64",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"instance_id\": \"40-chars-fake-of-the-package-instance_id\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"package\": \"3pp/sources/url/deps/bottom_dep_url/mac-amd64\"@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "ensure-directory",
      "--mode",
      "0777",
      "[CACHE]/3pp_cipd/3pp/sources/url/deps/bottom_dep_url/mac-amd64"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/bottom_dep_url",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.2.3"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/bottom_dep_url.fetch sources.ensure cipd pkg cache exists",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "move",
      "[CLEANUP]/tmp_tmp_4",
      "[CACHE]/3pp_cipd/3pp/sources/url/deps/bottom_dep_url/mac-amd64/40-chars-fake-of-the-package-instance_id"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/bottom_dep_url",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.2.3"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/bottom_dep_url.fetch sources.mv built cipd pkg to cache",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [],
    "name": "building deps/bottom_dep_url.fetch sources.upload source to cipd",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "describe",
      "3pp/sources/url/deps/bottom_dep_url/mac-amd64",
      "-version",
      "version:2@1.2.3",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/bottom_dep_url",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.2.3"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/bottom_dep_url.fetch sources.upload source to cipd.cipd describe 3pp/sources/url/deps/bottom_dep_url/mac-amd64",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@3@@@",
      "@@@STEP_TEXT@tag 'version:2@1.2.3' not found@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"error\": \"no such tag\", @@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": null@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "pkg-register",
      "[CACHE]/3pp_cipd/3pp/sources/url/deps/bottom_dep_url/mac-amd64/40-chars-fake-of-the-package-instance_id",
      "-tag",
      "build_id:8945511751514863184",
      "-tag",
      "version:2@1.2.3",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/bottom_dep_url",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.2.3"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/bottom_dep_url.fetch sources.upload source to cipd.register 3pp/sources/url/deps/bottom_dep_url/mac-amd64",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@3@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"instance_id\": \"40-chars-fake-of-the-package-instance_id\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"package\": \"3pp/sources/url/deps/bottom_dep_url/mac-amd64\"@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@",
      "@@@STEP_LINK@3pp/sources/url/deps/bottom_dep_url/mac-amd64@https://chrome-infra-packages.appspot.com/p/3pp/sources/url/deps/bottom_dep_url/mac-amd64/+/40-chars-fake-of-the-package-instance_id@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "copytree",
      "[CACHE]/builder/package_repo/dir_deps/bottom_dep_url",
      "[START_DIR]/3pp/wd/deps/bottom_dep_url/mac-amd64/1.2.3/checkout/.3pp/deps/bottom_dep_url"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/bottom_dep_url",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.2.3"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/bottom_dep_url.fetch sources.copy package definition deps/bottom_dep_url",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [],
    "name": "building deps/bottom_dep_url.run installation",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "ensure-directory",
      "--mode",
      "0777",
      "[START_DIR]/3pp/wd/deps/bottom_dep_url/mac-amd64/1.2.3/out"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/bottom_dep_url",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.2.3"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/bottom_dep_url.run installation.make output dir",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "ensure",
      "-root",
      "[CACHE]/osx_sdk",
      "-ensure-file",
      "infra/tools/mac_toolchain/${platform} git_revision:723fc1a6c8cdf2631a57851f5610e598db0c1de1",
      "-max-threads",
      "0",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "cwd": "[START_DIR]/3pp/wd/deps/bottom_dep_url/mac-amd64/1.2.3/checkout",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/bottom_dep_url",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.2.3"
    },
    "env_prefixes": {
      "PATH": [
        "[START_DIR]/3pp/wd/deps/bottom_dep_url/mac-amd64/1.2.3/tools_prefix",
        "[START_DIR]/3pp/wd/deps/bottom_dep_url/mac-amd64/1.2.3/tools_prefix/bin"
      ]
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/bottom_dep_url.run installation.ensure_installed",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"\": [@@@",
      "@@@STEP_LOG_LINE@json.output@      {@@@",
      "@@@STEP_LOG_LINE@json.output@        \"instance_id\": \"resolved-instance_id-of-git_revision:723\", @@@",
      "@@@STEP_LOG_LINE@json.output@        \"package\": \"infra/tools/mac_toolchain/resolved-platform\"@@@",
      "@@@STEP_LOG_LINE@json.output@      }@@@",
      "@@@STEP_LOG_LINE@json.output@    ]@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "[CACHE]/osx_sdk/mac_toolchain",
      "install",
      "-kind",
      "mac",
      "-xcode-version",
      "9f2000",
      "-output-dir",
      "[CACHE]/osx_sdk/XCode.app"
    ],
    "cwd": "[START_DIR]/3pp/wd/deps/bottom_dep_url/mac-amd64/1.2.3/checkout",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/bottom_dep_url",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.2.3"
    },
    "env_prefixes": {
      "PATH": [
        "[START_DIR]/3pp/wd/deps/bottom_dep_url/mac-amd64/1.2.3/tools_prefix",
        "[START_DIR]/3pp/wd/deps/bottom_dep_url/mac-amd64/1.2.3/tools_prefix/bin"
      ]
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/bottom_dep_url.run installation.install xcode",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "sudo",
      "xcode-select",
      "--switch",
      "[CACHE]/osx_sdk/XCode.app"
    ],
    "cwd": "[START_DIR]/3pp/wd/deps/bottom_dep_url/mac-amd64/1.2.3/checkout",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/bottom_dep_url",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.2.3"
    },
    "env_prefixes": {
      "PATH": [
        "[START_DIR]/3pp/wd/deps/bottom_dep_url/mac-amd64/1.2.3/tools_prefix",
        "[START_DIR]/3pp/wd/deps/bottom_dep_url/mac-amd64/1.2.3/tools_prefix/bin"
      ]
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/bottom_dep_url.run installation.select XCode",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "bash",
      "[START_DIR]/3pp/wd/deps/bottom_dep_url/mac-amd64/1.2.3/checkout/.3pp/deps/bottom_dep_url/install.sh",
      "[START_DIR]/3pp/wd/deps/bottom_dep_url/mac-amd64/1.2.3/out",
      "[START_DIR]/3pp/wd/deps/bottom_dep_url/mac-amd64/1.2.3/deps_prefix"
    ],
    "cwd": "[START_DIR]/3pp/wd/deps/bottom_dep_url/mac-amd64/1.2.3/checkout",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/bottom_dep_url",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.2.3"
    },
    "env_prefixes": {
      "PATH": [
        "RECIPE_MODULE[infra::support_3pp]/resources/mac_support",
        "[START_DIR]/3pp/wd/deps/bottom_dep_url/mac-amd64/1.2.3/tools_prefix",
        "[START_DIR]/3pp/wd/deps/bottom_dep_url/mac-amd64/1.2.3/tools_prefix/bin"
      ]
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/bottom_dep_url.run installation.install.sh [START_DIR]/3pp/wd/deps/bottom_dep_url/mac-amd64/1.2.3/out [START_DIR]/3pp/wd/deps/bottom_dep_url/mac-amd64/1.2.3/deps_prefix",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "sudo",
      "xcode-select",
      "--reset"
    ],
    "cwd": "[START_DIR]/3pp/wd/deps/bottom_dep_url/mac-amd64/1.2.3/checkout",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/bottom_dep_url",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.2.3"
    },
    "env_prefixes": {
      "PATH": [
        "[START_DIR]/3pp/wd/deps/bottom_dep_url/mac-amd64/1.2.3/tools_prefix",
        "[START_DIR]/3pp/wd/deps/bottom_dep_url/mac-amd64/1.2.3/tools_prefix/bin"
      ]
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/bottom_dep_url.run installation.reset XCode",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "listdir",
      "[START_DIR]/3pp/wd/deps/bottom_dep_url/mac-amd64/1.2.3/out",
      "--recursive"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/bottom_dep_url",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.2.3"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/bottom_dep_url.List files to be packaged",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_LOG_END@listdir@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "pkg-build",
      "-pkg-def",
      "{\"data\": [{\"dir\": \".\", \"exclude\": []}], \"install_mode\": \"copy\", \"package\": \"3pp/deps/bottom_dep_url/mac-amd64\", \"root\": \"[START_DIR]/3pp/wd/deps/bottom_dep_url/mac-amd64/1.2.3/out\"}",
      "-out",
      "[CLEANUP]/tmp_tmp_5",
      "-hash-algo",
      "sha256",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/bottom_dep_url",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.2.3"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/bottom_dep_url.build 3pp/deps/bottom_dep_url/mac-amd64",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"instance_id\": \"40-chars-fake-of-the-package-instance_id\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"package\": \"3pp/deps/bottom_dep_url/mac-amd64\"@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "ensure-directory",
      "--mode",
      "0777",
      "[CACHE]/3pp_cipd/3pp/deps/bottom_dep_url/mac-amd64"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/bottom_dep_url",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.2.3"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/bottom_dep_url.ensure cipd pkg cache exists",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "move",
      "[CLEANUP]/tmp_tmp_5",
      "[CACHE]/3pp_cipd/3pp/deps/bottom_dep_url/mac-amd64/40-chars-fake-of-the-package-instance_id"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/bottom_dep_url",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.2.3"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/bottom_dep_url.mv built cipd pkg to cache",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@"
    ]
  },
  {
    "cmd": [],
    "name": "building deps/bottom_dep_url.do upload",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_LINK@40-chars-fake-of-the-package-instance_id@https://chrome-infra-packages.appspot.com/p/3pp/deps/bottom_dep_url/mac-amd64/+/40-chars-fake-of-the-package-instance_id@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "describe",
      "3pp/deps/bottom_dep_url/mac-amd64",
      "-version",
      "version:2@1.2.3",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/bottom_dep_url",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.2.3"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/bottom_dep_url.do upload.cipd describe 3pp/deps/bottom_dep_url/mac-amd64",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_TEXT@tag 'version:2@1.2.3' not found@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"error\": \"no such tag\", @@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": null@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "pkg-register",
      "[CACHE]/3pp_cipd/3pp/deps/bottom_dep_url/mac-amd64/40-chars-fake-of-the-package-instance_id",
      "-ref",
      "latest",
      "-tag",
      "3pp_ecosystem_hash:2393a4a4151c4933f7b07a7037bf824a0092acc8cf9a8c99f39b126f3b078b3b",
      "-tag",
      "build_id:8945511751514863184",
      "-tag",
      "version:2@1.2.3",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/bottom_dep_url",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.2.3"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/bottom_dep_url.do upload.register 3pp/deps/bottom_dep_url/mac-amd64",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"instance_id\": \"40-chars-fake-of-the-package-instance_id\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"package\": \"3pp/deps/bottom_dep_url/mac-amd64\"@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@",
      "@@@STEP_LINK@3pp/deps/bottom_dep_url/mac-amd64@https://chrome-infra-packages.appspot.com/p/3pp/deps/bottom_dep_url/mac-amd64/+/40-chars-fake-of-the-package-instance_id@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "file_hash",
      "[CACHE]/3pp_cipd/3pp/deps/bottom_dep_url/mac-amd64/40-chars-fake-of-the-package-instance_id"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/bottom_dep_url",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.2.3"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/bottom_dep_url.do upload.Compute file hash",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_TEXT@Hash calculated: deadbeef@@@"
    ]
  },
  {
    "cmd": [
      "[START_DIR]/snoopy/snoopy_broker",
      "-report-cipd",
      "-digest",
      "deadbeef",
      "-pkg-name",
      "3pp/deps/bottom_dep_url/mac-amd64",
      "-iid",
      "40-chars-fake-of-the-package-instance_id"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/bottom_dep_url",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.2.3"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/bottom_dep_url.do upload.report_cipd",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [],
    "name": "building deps/deep_dep"
  },
  {
    "cmd": [
      "cipd",
      "describe",
      "source/deep_dep",
      "-version",
      "latest",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/deep_dep",
      "_3PP_PATCH_VERSION": "cr0",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/deep_dep.cipd describe source/deep_dep",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"pin\": {@@@",
      "@@@STEP_LOG_LINE@json.output@      \"instance_id\": \"resolved-instance_id-of-latest----------\", @@@",
      "@@@STEP_LOG_LINE@json.output@      \"package\": \"source/deep_dep\"@@@",
      "@@@STEP_LOG_LINE@json.output@    }, @@@",
      "@@@STEP_LOG_LINE@json.output@    \"refs\": [@@@",
      "@@@STEP_LOG_LINE@json.output@      {@@@",
      "@@@STEP_LOG_LINE@json.output@        \"instance_id\": \"resolved-instance_id-of-latest----------\", @@@",
      "@@@STEP_LOG_LINE@json.output@        \"modified_by\": \"user:44-blablbla@developer.gserviceaccount.com\", @@@",
      "@@@STEP_LOG_LINE@json.output@        \"modified_ts\": 1446574210, @@@",
      "@@@STEP_LOG_LINE@json.output@        \"ref\": \"latest\"@@@",
      "@@@STEP_LOG_LINE@json.output@      }@@@",
      "@@@STEP_LOG_LINE@json.output@    ], @@@",
      "@@@STEP_LOG_LINE@json.output@    \"registered_by\": \"user:44-blablbla@developer.gserviceaccount.com\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"registered_ts\": 1446574210, @@@",
      "@@@STEP_LOG_LINE@json.output@    \"tags\": [@@@",
      "@@@STEP_LOG_LINE@json.output@      {@@@",
      "@@@STEP_LOG_LINE@json.output@        \"registered_by\": \"user:44-blablbla@developer.gserviceaccount.com\", @@@",
      "@@@STEP_LOG_LINE@json.output@        \"registered_ts\": 1446574210, @@@",
      "@@@STEP_LOG_LINE@json.output@        \"tag\": \"version:1.2.3\"@@@",
      "@@@STEP_LOG_LINE@json.output@      }@@@",
      "@@@STEP_LOG_LINE@json.output@    ]@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "describe",
      "3pp/deps/deep_dep/mac-amd64",
      "-version",
      "version:2@1.2.3.cr0",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/deep_dep",
      "_3PP_PATCH_VERSION": "cr0",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/deep_dep.cipd describe 3pp/deps/deep_dep/mac-amd64",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_TEXT@tag 'version:2@1.2.3.cr0' not found@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"error\": \"no such tag\", @@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": null@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "ensure-directory",
      "--mode",
      "0777",
      "[START_DIR]/3pp/wd/deps/deep_dep/mac-amd64/1.2.3"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/deep_dep",
      "_3PP_PATCH_VERSION": "cr0",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.2.3"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/deep_dep.mkdir -p [workdir]",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@"
    ]
  },
  {
    "cmd": [],
    "name": "building deps/deep_dep.fetch sources",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "ensure-directory",
      "--mode",
      "0777",
      "[START_DIR]/3pp/wd/deps/deep_dep/mac-amd64/1.2.3/checkout"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/deep_dep",
      "_3PP_PATCH_VERSION": "cr0",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.2.3"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/deep_dep.fetch sources.mkdir -p [workdir]/checkout/",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "pkg-fetch",
      "source/deep_dep",
      "-version",
      "version:1.2.3",
      "-out",
      "[CLEANUP]/tmp_tmp_6",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/deep_dep",
      "_3PP_PATCH_VERSION": "cr0",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.2.3"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/deep_dep.fetch sources.cipd pkg-fetch source/deep_dep",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_TEXT@source/deep_dep resolved-instance_id-of-version:1.2.3---@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"instance_id\": \"resolved-instance_id-of-version:1.2.3---\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"package\": \"source/deep_dep\"@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "ensure-directory",
      "--mode",
      "0777",
      "[CACHE]/3pp_cipd/source/deep_dep"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/deep_dep",
      "_3PP_PATCH_VERSION": "cr0",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.2.3"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/deep_dep.fetch sources.ensure cipd package cache exists",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "move",
      "[CLEANUP]/tmp_tmp_6",
      "[CACHE]/3pp_cipd/source/deep_dep/resolved-instance_id-of-version:1.2.3---"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/deep_dep",
      "_3PP_PATCH_VERSION": "cr0",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.2.3"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/deep_dep.fetch sources.move fetched cipd package to cache",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "pkg-deploy",
      "[CACHE]/3pp_cipd/source/deep_dep/resolved-instance_id-of-version:1.2.3---",
      "-root",
      "[START_DIR]/3pp/wd/deps/deep_dep/mac-amd64/1.2.3/checkout",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/deep_dep",
      "_3PP_PATCH_VERSION": "cr0",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.2.3"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/deep_dep.fetch sources.cipd pkg-deploy [CACHE]/3pp_cipd/source/deep_dep/resolved-instance_id-of-version:1.2.3---",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"instance_id\": \"resolved-instance_id-of-version/of/resol\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"package\": \"pkg/name/of/resolved-instance_id-of-version:1.2.3---\"@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "listdir",
      "[START_DIR]/3pp/wd/deps/deep_dep/mac-amd64/1.2.3/checkout",
      "--recursive"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/deep_dep",
      "_3PP_PATCH_VERSION": "cr0",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.2.3"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/deep_dep.List files to be packaged",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_LOG_END@listdir@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "pkg-build",
      "-pkg-def",
      "{\"data\": [{\"dir\": \".\", \"exclude\": []}], \"install_mode\": \"copy\", \"package\": \"3pp/deps/deep_dep/mac-amd64\", \"root\": \"[START_DIR]/3pp/wd/deps/deep_dep/mac-amd64/1.2.3/checkout\"}",
      "-out",
      "[CLEANUP]/tmp_tmp_7",
      "-hash-algo",
      "sha256",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/deep_dep",
      "_3PP_PATCH_VERSION": "cr0",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.2.3"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/deep_dep.build 3pp/deps/deep_dep/mac-amd64",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"instance_id\": \"40-chars-fake-of-the-package-instance_id\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"package\": \"3pp/deps/deep_dep/mac-amd64\"@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "ensure-directory",
      "--mode",
      "0777",
      "[CACHE]/3pp_cipd/3pp/deps/deep_dep/mac-amd64"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/deep_dep",
      "_3PP_PATCH_VERSION": "cr0",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.2.3"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/deep_dep.ensure cipd pkg cache exists",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "move",
      "[CLEANUP]/tmp_tmp_7",
      "[CACHE]/3pp_cipd/3pp/deps/deep_dep/mac-amd64/40-chars-fake-of-the-package-instance_id"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/deep_dep",
      "_3PP_PATCH_VERSION": "cr0",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.2.3"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/deep_dep.mv built cipd pkg to cache",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@"
    ]
  },
  {
    "cmd": [],
    "name": "building deps/deep_dep.do upload",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_LINK@40-chars-fake-of-the-package-instance_id@https://chrome-infra-packages.appspot.com/p/3pp/deps/deep_dep/mac-amd64/+/40-chars-fake-of-the-package-instance_id@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "describe",
      "3pp/deps/deep_dep/mac-amd64",
      "-version",
      "version:2@1.2.3.cr0",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/deep_dep",
      "_3PP_PATCH_VERSION": "cr0",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.2.3"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/deep_dep.do upload.cipd describe 3pp/deps/deep_dep/mac-amd64",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_TEXT@tag 'version:2@1.2.3.cr0' not found@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"error\": \"no such tag\", @@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": null@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "pkg-register",
      "[CACHE]/3pp_cipd/3pp/deps/deep_dep/mac-amd64/40-chars-fake-of-the-package-instance_id",
      "-ref",
      "latest",
      "-tag",
      "3pp_ecosystem_hash:2393a4a4151c4933f7b07a7037bf824a0092acc8cf9a8c99f39b126f3b078b3b",
      "-tag",
      "build_id:8945511751514863184",
      "-tag",
      "version:2@1.2.3.cr0",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/deep_dep",
      "_3PP_PATCH_VERSION": "cr0",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.2.3"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/deep_dep.do upload.register 3pp/deps/deep_dep/mac-amd64",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"instance_id\": \"40-chars-fake-of-the-package-instance_id\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"package\": \"3pp/deps/deep_dep/mac-amd64\"@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@",
      "@@@STEP_LINK@3pp/deps/deep_dep/mac-amd64@https://chrome-infra-packages.appspot.com/p/3pp/deps/deep_dep/mac-amd64/+/40-chars-fake-of-the-package-instance_id@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "file_hash",
      "[CACHE]/3pp_cipd/3pp/deps/deep_dep/mac-amd64/40-chars-fake-of-the-package-instance_id"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/deep_dep",
      "_3PP_PATCH_VERSION": "cr0",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.2.3"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/deep_dep.do upload.Compute file hash",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_TEXT@Hash calculated: deadbeef@@@"
    ]
  },
  {
    "cmd": [
      "[START_DIR]/snoopy/snoopy_broker",
      "-report-cipd",
      "-digest",
      "deadbeef",
      "-pkg-name",
      "3pp/deps/deep_dep/mac-amd64",
      "-iid",
      "40-chars-fake-of-the-package-instance_id"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/deep_dep",
      "_3PP_PATCH_VERSION": "cr0",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.2.3"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/deep_dep.do upload.report_cipd",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [],
    "name": "building tools/already_uploaded"
  },
  {
    "cmd": [
      "cipd",
      "describe",
      "3pp/tools/already_uploaded/mac-amd64",
      "-version",
      "version:2@1.5.0-rc1",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/already_uploaded",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/already_uploaded.cipd describe 3pp/tools/already_uploaded/mac-amd64",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_TEXT@found 'resolved-instance_id-of-version:1.5.0-rc'@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"pin\": {@@@",
      "@@@STEP_LOG_LINE@json.output@      \"instance_id\": \"resolved-instance_id-of-version:1.5.0-rc\", @@@",
      "@@@STEP_LOG_LINE@json.output@      \"package\": \"3pp/tools/already_uploaded/mac-amd64\"@@@",
      "@@@STEP_LOG_LINE@json.output@    }, @@@",
      "@@@STEP_LOG_LINE@json.output@    \"refs\": [@@@",
      "@@@STEP_LOG_LINE@json.output@      {@@@",
      "@@@STEP_LOG_LINE@json.output@        \"instance_id\": \"resolved-instance_id-of-latest----------\", @@@",
      "@@@STEP_LOG_LINE@json.output@        \"modified_by\": \"user:44-blablbla@developer.gserviceaccount.com\", @@@",
      "@@@STEP_LOG_LINE@json.output@        \"modified_ts\": 1446574210, @@@",
      "@@@STEP_LOG_LINE@json.output@        \"ref\": \"latest\"@@@",
      "@@@STEP_LOG_LINE@json.output@      }@@@",
      "@@@STEP_LOG_LINE@json.output@    ], @@@",
      "@@@STEP_LOG_LINE@json.output@    \"registered_by\": \"user:44-blablbla@developer.gserviceaccount.com\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"registered_ts\": 1446574210, @@@",
      "@@@STEP_LOG_LINE@json.output@    \"tags\": [@@@",
      "@@@STEP_LOG_LINE@json.output@      {@@@",
      "@@@STEP_LOG_LINE@json.output@        \"registered_by\": \"user:44-blablbla@developer.gserviceaccount.com\", @@@",
      "@@@STEP_LOG_LINE@json.output@        \"registered_ts\": 1446574210, @@@",
      "@@@STEP_LOG_LINE@json.output@        \"tag\": \"version:1.5.0-rc1\"@@@",
      "@@@STEP_LOG_LINE@json.output@      }@@@",
      "@@@STEP_LOG_LINE@json.output@    ]@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [],
    "name": "building tools/pkg_override_and_no_latest"
  },
  {
    "cmd": [
      "cipd",
      "describe",
      "3pp/tools/pkg/mac-amd64",
      "-version",
      "version:2@1.1.2",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg_override_and_no_latest",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg_override_and_no_latest.cipd describe 3pp/tools/pkg/mac-amd64",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_TEXT@tag 'version:2@1.1.2' not found@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"error\": \"no such tag\", @@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": null@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "ensure-directory",
      "--mode",
      "0777",
      "[START_DIR]/3pp/wd/tools/pkg_override_and_no_latest/mac-amd64/1.1.2"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg_override_and_no_latest",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.1.2"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg_override_and_no_latest.mkdir -p [workdir]",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@"
    ]
  },
  {
    "cmd": [],
    "name": "building tools/pkg_override_and_no_latest.fetch sources",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "ensure-directory",
      "--mode",
      "0777",
      "[START_DIR]/3pp/wd/tools/pkg_override_and_no_latest/mac-amd64/1.1.2/checkout"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg_override_and_no_latest",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.1.2"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg_override_and_no_latest.fetch sources.mkdir -p [workdir]/checkout/",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "describe",
      "3pp/sources/url/tools/pkg/mac-amd64",
      "-version",
      "version:2@1.1.2",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg_override_and_no_latest",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.1.2"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg_override_and_no_latest.fetch sources.cipd describe 3pp/sources/url/tools/pkg/mac-amd64",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_TEXT@tag 'version:2@1.1.2' not found@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"error\": \"no such tag\", @@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": null@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::url]/resources/pycurl.py",
      "--url",
      "https://some.internet.example.com",
      "--status-json",
      "/path/to/tmp/json",
      "--outfile",
      "[START_DIR]/3pp/wd/tools/pkg_override_and_no_latest/mac-amd64/1.1.2/checkout/raw_source_0.tar.gz"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg_override_and_no_latest",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.1.2"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg_override_and_no_latest.fetch sources.GET https://some.internet.example.com",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "pkg-build",
      "-pkg-def",
      "{\"data\": [{\"dir\": \".\", \"exclude\": []}], \"install_mode\": \"copy\", \"package\": \"3pp/sources/url/tools/pkg/mac-amd64\", \"preserve_writable\": true, \"root\": \"[START_DIR]/3pp/wd/tools/pkg_override_and_no_latest/mac-amd64/1.1.2/checkout\"}",
      "-out",
      "[CLEANUP]/tmp_tmp_8",
      "-hash-algo",
      "sha256",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg_override_and_no_latest",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.1.2"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg_override_and_no_latest.fetch sources.build 3pp/sources/url/tools/pkg/mac-amd64",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"instance_id\": \"40-chars-fake-of-the-package-instance_id\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"package\": \"3pp/sources/url/tools/pkg/mac-amd64\"@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "ensure-directory",
      "--mode",
      "0777",
      "[CACHE]/3pp_cipd/3pp/sources/url/tools/pkg/mac-amd64"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg_override_and_no_latest",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.1.2"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg_override_and_no_latest.fetch sources.ensure cipd pkg cache exists",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "move",
      "[CLEANUP]/tmp_tmp_8",
      "[CACHE]/3pp_cipd/3pp/sources/url/tools/pkg/mac-amd64/40-chars-fake-of-the-package-instance_id"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg_override_and_no_latest",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.1.2"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg_override_and_no_latest.fetch sources.mv built cipd pkg to cache",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [],
    "name": "building tools/pkg_override_and_no_latest.fetch sources.upload source to cipd",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "describe",
      "3pp/sources/url/tools/pkg/mac-amd64",
      "-version",
      "version:2@1.1.2",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg_override_and_no_latest",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.1.2"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg_override_and_no_latest.fetch sources.upload source to cipd.cipd describe 3pp/sources/url/tools/pkg/mac-amd64",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@3@@@",
      "@@@STEP_TEXT@tag 'version:2@1.1.2' not found@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"error\": \"no such tag\", @@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": null@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "pkg-register",
      "[CACHE]/3pp_cipd/3pp/sources/url/tools/pkg/mac-amd64/40-chars-fake-of-the-package-instance_id",
      "-tag",
      "build_id:8945511751514863184",
      "-tag",
      "version:2@1.1.2",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg_override_and_no_latest",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.1.2"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg_override_and_no_latest.fetch sources.upload source to cipd.register 3pp/sources/url/tools/pkg/mac-amd64",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@3@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"instance_id\": \"40-chars-fake-of-the-package-instance_id\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"package\": \"3pp/sources/url/tools/pkg/mac-amd64\"@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@",
      "@@@STEP_LINK@3pp/sources/url/tools/pkg/mac-amd64@https://chrome-infra-packages.appspot.com/p/3pp/sources/url/tools/pkg/mac-amd64/+/40-chars-fake-of-the-package-instance_id@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "copytree",
      "[CACHE]/builder/package_repo/dir_tools/pkg_override_and_no_latest",
      "[START_DIR]/3pp/wd/tools/pkg_override_and_no_latest/mac-amd64/1.1.2/checkout/.3pp/tools/pkg_override_and_no_latest"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg_override_and_no_latest",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.1.2"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg_override_and_no_latest.fetch sources.copy package definition tools/pkg_override_and_no_latest",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [],
    "name": "building tools/pkg_override_and_no_latest.run installation",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "ensure-directory",
      "--mode",
      "0777",
      "[START_DIR]/3pp/wd/tools/pkg_override_and_no_latest/mac-amd64/1.1.2/out"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg_override_and_no_latest",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.1.2"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg_override_and_no_latest.run installation.make output dir",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "ensure",
      "-root",
      "[CACHE]/osx_sdk",
      "-ensure-file",
      "infra/tools/mac_toolchain/${platform} git_revision:723fc1a6c8cdf2631a57851f5610e598db0c1de1",
      "-max-threads",
      "0",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "cwd": "[START_DIR]/3pp/wd/tools/pkg_override_and_no_latest/mac-amd64/1.1.2/checkout",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg_override_and_no_latest",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.1.2"
    },
    "env_prefixes": {
      "PATH": [
        "[START_DIR]/3pp/wd/tools/pkg_override_and_no_latest/mac-amd64/1.1.2/tools_prefix",
        "[START_DIR]/3pp/wd/tools/pkg_override_and_no_latest/mac-amd64/1.1.2/tools_prefix/bin"
      ]
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg_override_and_no_latest.run installation.ensure_installed",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"\": [@@@",
      "@@@STEP_LOG_LINE@json.output@      {@@@",
      "@@@STEP_LOG_LINE@json.output@        \"instance_id\": \"resolved-instance_id-of-git_revision:723\", @@@",
      "@@@STEP_LOG_LINE@json.output@        \"package\": \"infra/tools/mac_toolchain/resolved-platform\"@@@",
      "@@@STEP_LOG_LINE@json.output@      }@@@",
      "@@@STEP_LOG_LINE@json.output@    ]@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "[CACHE]/osx_sdk/mac_toolchain",
      "install",
      "-kind",
      "mac",
      "-xcode-version",
      "9f2000",
      "-output-dir",
      "[CACHE]/osx_sdk/XCode.app"
    ],
    "cwd": "[START_DIR]/3pp/wd/tools/pkg_override_and_no_latest/mac-amd64/1.1.2/checkout",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg_override_and_no_latest",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.1.2"
    },
    "env_prefixes": {
      "PATH": [
        "[START_DIR]/3pp/wd/tools/pkg_override_and_no_latest/mac-amd64/1.1.2/tools_prefix",
        "[START_DIR]/3pp/wd/tools/pkg_override_and_no_latest/mac-amd64/1.1.2/tools_prefix/bin"
      ]
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg_override_and_no_latest.run installation.install xcode",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "sudo",
      "xcode-select",
      "--switch",
      "[CACHE]/osx_sdk/XCode.app"
    ],
    "cwd": "[START_DIR]/3pp/wd/tools/pkg_override_and_no_latest/mac-amd64/1.1.2/checkout",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg_override_and_no_latest",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.1.2"
    },
    "env_prefixes": {
      "PATH": [
        "[START_DIR]/3pp/wd/tools/pkg_override_and_no_latest/mac-amd64/1.1.2/tools_prefix",
        "[START_DIR]/3pp/wd/tools/pkg_override_and_no_latest/mac-amd64/1.1.2/tools_prefix/bin"
      ]
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg_override_and_no_latest.run installation.select XCode",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "bash",
      "[START_DIR]/3pp/wd/tools/pkg_override_and_no_latest/mac-amd64/1.1.2/checkout/.3pp/tools/pkg_override_and_no_latest/install.sh",
      "[START_DIR]/3pp/wd/tools/pkg_override_and_no_latest/mac-amd64/1.1.2/out",
      "[START_DIR]/3pp/wd/tools/pkg_override_and_no_latest/mac-amd64/1.1.2/deps_prefix"
    ],
    "cwd": "[START_DIR]/3pp/wd/tools/pkg_override_and_no_latest/mac-amd64/1.1.2/checkout",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg_override_and_no_latest",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.1.2"
    },
    "env_prefixes": {
      "PATH": [
        "RECIPE_MODULE[infra::support_3pp]/resources/mac_support",
        "[START_DIR]/3pp/wd/tools/pkg_override_and_no_latest/mac-amd64/1.1.2/tools_prefix",
        "[START_DIR]/3pp/wd/tools/pkg_override_and_no_latest/mac-amd64/1.1.2/tools_prefix/bin"
      ]
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg_override_and_no_latest.run installation.install.sh [START_DIR]/3pp/wd/tools/pkg_override_and_no_latest/mac-amd64/1.1.2/out [START_DIR]/3pp/wd/tools/pkg_override_and_no_latest/mac-amd64/1.1.2/deps_prefix",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "sudo",
      "xcode-select",
      "--reset"
    ],
    "cwd": "[START_DIR]/3pp/wd/tools/pkg_override_and_no_latest/mac-amd64/1.1.2/checkout",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg_override_and_no_latest",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.1.2"
    },
    "env_prefixes": {
      "PATH": [
        "[START_DIR]/3pp/wd/tools/pkg_override_and_no_latest/mac-amd64/1.1.2/tools_prefix",
        "[START_DIR]/3pp/wd/tools/pkg_override_and_no_latest/mac-amd64/1.1.2/tools_prefix/bin"
      ]
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg_override_and_no_latest.run installation.reset XCode",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "listdir",
      "[START_DIR]/3pp/wd/tools/pkg_override_and_no_latest/mac-amd64/1.1.2/out",
      "--recursive"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg_override_and_no_latest",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.1.2"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg_override_and_no_latest.List files to be packaged",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_LOG_END@listdir@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "pkg-build",
      "-pkg-def",
      "{\"data\": [{\"dir\": \".\", \"exclude\": []}], \"install_mode\": \"copy\", \"package\": \"3pp/tools/pkg/mac-amd64\", \"root\": \"[START_DIR]/3pp/wd/tools/pkg_override_and_no_latest/mac-amd64/1.1.2/out\"}",
      "-out",
      "[CLEANUP]/tmp_tmp_9",
      "-hash-algo",
      "sha256",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg_override_and_no_latest",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.1.2"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg_override_and_no_latest.build 3pp/tools/pkg/mac-amd64",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"instance_id\": \"40-chars-fake-of-the-package-instance_id\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"package\": \"3pp/tools/pkg/mac-amd64\"@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "ensure-directory",
      "--mode",
      "0777",
      "[CACHE]/3pp_cipd/3pp/tools/pkg/mac-amd64"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg_override_and_no_latest",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.1.2"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg_override_and_no_latest.ensure cipd pkg cache exists",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "move",
      "[CLEANUP]/tmp_tmp_9",
      "[CACHE]/3pp_cipd/3pp/tools/pkg/mac-amd64/40-chars-fake-of-the-package-instance_id"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg_override_and_no_latest",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.1.2"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg_override_and_no_latest.mv built cipd pkg to cache",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@"
    ]
  },
  {
    "cmd": [],
    "name": "building tools/pkg_override_and_no_latest.do upload",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_LINK@40-chars-fake-of-the-package-instance_id@https://chrome-infra-packages.appspot.com/p/3pp/tools/pkg/mac-amd64/+/40-chars-fake-of-the-package-instance_id@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "describe",
      "3pp/tools/pkg/mac-amd64",
      "-version",
      "version:2@1.1.2",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg_override_and_no_latest",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.1.2"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg_override_and_no_latest.do upload.cipd describe 3pp/tools/pkg/mac-amd64",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_TEXT@tag 'version:2@1.1.2' not found@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"error\": \"no such tag\", @@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": null@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "pkg-register",
      "[CACHE]/3pp_cipd/3pp/tools/pkg/mac-amd64/40-chars-fake-of-the-package-instance_id",
      "-tag",
      "3pp_ecosystem_hash:2393a4a4151c4933f7b07a7037bf824a0092acc8cf9a8c99f39b126f3b078b3b",
      "-tag",
      "build_id:8945511751514863184",
      "-tag",
      "version:2@1.1.2",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg_override_and_no_latest",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.1.2"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg_override_and_no_latest.do upload.register 3pp/tools/pkg/mac-amd64",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"instance_id\": \"40-chars-fake-of-the-package-instance_id\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"package\": \"3pp/tools/pkg/mac-amd64\"@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@",
      "@@@STEP_LINK@3pp/tools/pkg/mac-amd64@https://chrome-infra-packages.appspot.com/p/3pp/tools/pkg/mac-amd64/+/40-chars-fake-of-the-package-instance_id@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "file_hash",
      "[CACHE]/3pp_cipd/3pp/tools/pkg/mac-amd64/40-chars-fake-of-the-package-instance_id"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg_override_and_no_latest",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.1.2"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg_override_and_no_latest.do upload.Compute file hash",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_TEXT@Hash calculated: deadbeef@@@"
    ]
  },
  {
    "cmd": [
      "[START_DIR]/snoopy/snoopy_broker",
      "-report-cipd",
      "-digest",
      "deadbeef",
      "-pkg-name",
      "3pp/tools/pkg/mac-amd64",
      "-iid",
      "40-chars-fake-of-the-package-instance_id"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg_override_and_no_latest",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.1.2"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg_override_and_no_latest.do upload.report_cipd",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [],
    "name": "building tools/posix_tool"
  },
  {
    "cmd": [
      "cipd",
      "describe",
      "3pp/tools/posix_tool/mac-amd64",
      "-version",
      "version:2@1.2.0",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/posix_tool",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/posix_tool.cipd describe 3pp/tools/posix_tool/mac-amd64",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_TEXT@tag 'version:2@1.2.0' not found@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"error\": \"no such tag\", @@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": null@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "ensure-directory",
      "--mode",
      "0777",
      "[START_DIR]/3pp/wd/tools/posix_tool/mac-amd64/1.2.0"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/posix_tool",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.2.0"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/posix_tool.mkdir -p [workdir]",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@"
    ]
  },
  {
    "cmd": [],
    "name": "building tools/posix_tool.fetch sources",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "ensure-directory",
      "--mode",
      "0777",
      "[START_DIR]/3pp/wd/tools/posix_tool/mac-amd64/1.2.0/checkout"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/posix_tool",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.2.0"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/posix_tool.fetch sources.mkdir -p [workdir]/checkout/",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "pkg-fetch",
      "source/posix_tool",
      "-version",
      "version:1.2.0",
      "-out",
      "[CLEANUP]/tmp_tmp_10",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/posix_tool",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.2.0"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/posix_tool.fetch sources.cipd pkg-fetch source/posix_tool",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_TEXT@source/posix_tool resolved-instance_id-of-version:1.2.0---@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"instance_id\": \"resolved-instance_id-of-version:1.2.0---\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"package\": \"source/posix_tool\"@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "ensure-directory",
      "--mode",
      "0777",
      "[CACHE]/3pp_cipd/source/posix_tool"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/posix_tool",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.2.0"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/posix_tool.fetch sources.ensure cipd package cache exists",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "move",
      "[CLEANUP]/tmp_tmp_10",
      "[CACHE]/3pp_cipd/source/posix_tool/resolved-instance_id-of-version:1.2.0---"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/posix_tool",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.2.0"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/posix_tool.fetch sources.move fetched cipd package to cache",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "pkg-deploy",
      "[CACHE]/3pp_cipd/source/posix_tool/resolved-instance_id-of-version:1.2.0---",
      "-root",
      "[START_DIR]/3pp/wd/tools/posix_tool/mac-amd64/1.2.0/checkout",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/posix_tool",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.2.0"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/posix_tool.fetch sources.cipd pkg-deploy [CACHE]/3pp_cipd/source/posix_tool/resolved-instance_id-of-version:1.2.0---",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"instance_id\": \"resolved-instance_id-of-version/of/resol\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"package\": \"pkg/name/of/resolved-instance_id-of-version:1.2.0---\"@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [],
    "name": "building tools/posix_tool.fetch sources.unpack_archive",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "glob",
      "[START_DIR]/3pp/wd/tools/posix_tool/mac-amd64/1.2.0/checkout",
      "*.*"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/posix_tool",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.2.0"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/posix_tool.fetch sources.unpack_archive.find archives to unpack",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@3@@@",
      "@@@STEP_TEXT@found 'archive.tgz'@@@",
      "@@@STEP_LOG_LINE@glob@[START_DIR]/3pp/wd/tools/posix_tool/mac-amd64/1.2.0/checkout/archive.tgz@@@",
      "@@@STEP_LOG_END@glob@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "copy",
      "[START_DIR]/3pp/wd/tools/posix_tool/mac-amd64/1.2.0/checkout/archive.tgz",
      "[CLEANUP]/tmp_tmp_11/archive.tgz"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/posix_tool",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.2.0"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/posix_tool.fetch sources.unpack_archive.cp 'archive.tgz' [tmpdir]",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@3@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "rmtree",
      "[START_DIR]/3pp/wd/tools/posix_tool/mac-amd64/1.2.0/checkout"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/posix_tool",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.2.0"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/posix_tool.fetch sources.unpack_archive.rm -rf [checkout_dir]",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@3@@@"
    ]
  },
  {
    "cmd": [
      "vpython3",
      "-u",
      "RECIPE_MODULE[recipe_engine::archive]/resources/extract.py",
      "--json-input",
      "{\"archive_file\": \"[CLEANUP]/tmp_tmp_11/archive.tgz\", \"include_files\": [], \"output\": \"[START_DIR]/3pp/wd/tools/posix_tool/mac-amd64/1.2.0/checkout\", \"safe_mode\": true}",
      "--json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/posix_tool",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.2.0"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/posix_tool.fetch sources.unpack_archive.extracting [tmpdir]/archive.tgz",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@3@@@",
      "@@@STEP_TEXT@<br/>extracted 1337 files - 50159.75 MB@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"extracted\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"bytes\": 50159747054, @@@",
      "@@@STEP_LOG_LINE@json.output@    \"filecount\": 1337@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "flatten_single_directories",
      "[START_DIR]/3pp/wd/tools/posix_tool/mac-amd64/1.2.0/checkout"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/posix_tool",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.2.0"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/posix_tool.fetch sources.unpack_archive.prune archive subdirs",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@3@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "copytree",
      "[CACHE]/builder/package_repo/dir_tools/posix_tool",
      "[START_DIR]/3pp/wd/tools/posix_tool/mac-amd64/1.2.0/checkout/.3pp/tools/posix_tool"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/posix_tool",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.2.0"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/posix_tool.fetch sources.copy package definition tools/posix_tool",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [],
    "name": "building tools/posix_tool.run installation",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "ensure-directory",
      "--mode",
      "0777",
      "[START_DIR]/3pp/wd/tools/posix_tool/mac-amd64/1.2.0/out"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/posix_tool",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.2.0"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/posix_tool.run installation.make output dir",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "ensure",
      "-root",
      "[CACHE]/osx_sdk",
      "-ensure-file",
      "infra/tools/mac_toolchain/${platform} git_revision:723fc1a6c8cdf2631a57851f5610e598db0c1de1",
      "-max-threads",
      "0",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "cwd": "[START_DIR]/3pp/wd/tools/posix_tool/mac-amd64/1.2.0/checkout",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/posix_tool",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.2.0"
    },
    "env_prefixes": {
      "PATH": [
        "[START_DIR]/3pp/wd/tools/posix_tool/mac-amd64/1.2.0/tools_prefix",
        "[START_DIR]/3pp/wd/tools/posix_tool/mac-amd64/1.2.0/tools_prefix/bin"
      ]
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/posix_tool.run installation.ensure_installed",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"\": [@@@",
      "@@@STEP_LOG_LINE@json.output@      {@@@",
      "@@@STEP_LOG_LINE@json.output@        \"instance_id\": \"resolved-instance_id-of-git_revision:723\", @@@",
      "@@@STEP_LOG_LINE@json.output@        \"package\": \"infra/tools/mac_toolchain/resolved-platform\"@@@",
      "@@@STEP_LOG_LINE@json.output@      }@@@",
      "@@@STEP_LOG_LINE@json.output@    ]@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "[CACHE]/osx_sdk/mac_toolchain",
      "install",
      "-kind",
      "mac",
      "-xcode-version",
      "9f2000",
      "-output-dir",
      "[CACHE]/osx_sdk/XCode.app"
    ],
    "cwd": "[START_DIR]/3pp/wd/tools/posix_tool/mac-amd64/1.2.0/checkout",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/posix_tool",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.2.0"
    },
    "env_prefixes": {
      "PATH": [
        "[START_DIR]/3pp/wd/tools/posix_tool/mac-amd64/1.2.0/tools_prefix",
        "[START_DIR]/3pp/wd/tools/posix_tool/mac-amd64/1.2.0/tools_prefix/bin"
      ]
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/posix_tool.run installation.install xcode",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "sudo",
      "xcode-select",
      "--switch",
      "[CACHE]/osx_sdk/XCode.app"
    ],
    "cwd": "[START_DIR]/3pp/wd/tools/posix_tool/mac-amd64/1.2.0/checkout",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/posix_tool",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.2.0"
    },
    "env_prefixes": {
      "PATH": [
        "[START_DIR]/3pp/wd/tools/posix_tool/mac-amd64/1.2.0/tools_prefix",
        "[START_DIR]/3pp/wd/tools/posix_tool/mac-amd64/1.2.0/tools_prefix/bin"
      ]
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/posix_tool.run installation.select XCode",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "bash",
      "[START_DIR]/3pp/wd/tools/posix_tool/mac-amd64/1.2.0/checkout/.3pp/tools/posix_tool/install.sh",
      "[START_DIR]/3pp/wd/tools/posix_tool/mac-amd64/1.2.0/out",
      "[START_DIR]/3pp/wd/tools/posix_tool/mac-amd64/1.2.0/deps_prefix"
    ],
    "cwd": "[START_DIR]/3pp/wd/tools/posix_tool/mac-amd64/1.2.0/checkout",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/posix_tool",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.2.0"
    },
    "env_prefixes": {
      "PATH": [
        "RECIPE_MODULE[infra::support_3pp]/resources/mac_support",
        "[START_DIR]/3pp/wd/tools/posix_tool/mac-amd64/1.2.0/tools_prefix",
        "[START_DIR]/3pp/wd/tools/posix_tool/mac-amd64/1.2.0/tools_prefix/bin"
      ]
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/posix_tool.run installation.install.sh [START_DIR]/3pp/wd/tools/posix_tool/mac-amd64/1.2.0/out [START_DIR]/3pp/wd/tools/posix_tool/mac-amd64/1.2.0/deps_prefix",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "sudo",
      "xcode-select",
      "--reset"
    ],
    "cwd": "[START_DIR]/3pp/wd/tools/posix_tool/mac-amd64/1.2.0/checkout",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/posix_tool",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.2.0"
    },
    "env_prefixes": {
      "PATH": [
        "[START_DIR]/3pp/wd/tools/posix_tool/mac-amd64/1.2.0/tools_prefix",
        "[START_DIR]/3pp/wd/tools/posix_tool/mac-amd64/1.2.0/tools_prefix/bin"
      ]
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/posix_tool.run installation.reset XCode",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "listdir",
      "[START_DIR]/3pp/wd/tools/posix_tool/mac-amd64/1.2.0/out",
      "--recursive"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/posix_tool",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.2.0"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/posix_tool.List files to be packaged",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_LOG_END@listdir@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "pkg-build",
      "-pkg-def",
      "{\"data\": [{\"dir\": \".\", \"exclude\": []}], \"install_mode\": \"copy\", \"package\": \"3pp/tools/posix_tool/mac-amd64\", \"root\": \"[START_DIR]/3pp/wd/tools/posix_tool/mac-amd64/1.2.0/out\"}",
      "-out",
      "[CLEANUP]/tmp_tmp_12",
      "-hash-algo",
      "sha256",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/posix_tool",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.2.0"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/posix_tool.build 3pp/tools/posix_tool/mac-amd64",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"instance_id\": \"40-chars-fake-of-the-package-instance_id\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"package\": \"3pp/tools/posix_tool/mac-amd64\"@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "ensure-directory",
      "--mode",
      "0777",
      "[CACHE]/3pp_cipd/3pp/tools/posix_tool/mac-amd64"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/posix_tool",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.2.0"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/posix_tool.ensure cipd pkg cache exists",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "move",
      "[CLEANUP]/tmp_tmp_12",
      "[CACHE]/3pp_cipd/3pp/tools/posix_tool/mac-amd64/40-chars-fake-of-the-package-instance_id"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/posix_tool",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.2.0"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/posix_tool.mv built cipd pkg to cache",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@"
    ]
  },
  {
    "cmd": [],
    "name": "building tools/posix_tool.do upload",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_LINK@40-chars-fake-of-the-package-instance_id@https://chrome-infra-packages.appspot.com/p/3pp/tools/posix_tool/mac-amd64/+/40-chars-fake-of-the-package-instance_id@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "describe",
      "3pp/tools/posix_tool/mac-amd64",
      "-version",
      "version:2@1.2.0",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/posix_tool",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.2.0"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/posix_tool.do upload.cipd describe 3pp/tools/posix_tool/mac-amd64",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_TEXT@tag 'version:2@1.2.0' not found@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"error\": \"no such tag\", @@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": null@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "pkg-register",
      "[CACHE]/3pp_cipd/3pp/tools/posix_tool/mac-amd64/40-chars-fake-of-the-package-instance_id",
      "-ref",
      "latest",
      "-tag",
      "3pp_ecosystem_hash:2393a4a4151c4933f7b07a7037bf824a0092acc8cf9a8c99f39b126f3b078b3b",
      "-tag",
      "build_id:8945511751514863184",
      "-tag",
      "version:2@1.2.0",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/posix_tool",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.2.0"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/posix_tool.do upload.register 3pp/tools/posix_tool/mac-amd64",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"instance_id\": \"40-chars-fake-of-the-package-instance_id\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"package\": \"3pp/tools/posix_tool/mac-amd64\"@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@",
      "@@@STEP_LINK@3pp/tools/posix_tool/mac-amd64@https://chrome-infra-packages.appspot.com/p/3pp/tools/posix_tool/mac-amd64/+/40-chars-fake-of-the-package-instance_id@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "file_hash",
      "[CACHE]/3pp_cipd/3pp/tools/posix_tool/mac-amd64/40-chars-fake-of-the-package-instance_id"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/posix_tool",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.2.0"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/posix_tool.do upload.Compute file hash",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_TEXT@Hash calculated: deadbeef@@@"
    ]
  },
  {
    "cmd": [
      "[START_DIR]/snoopy/snoopy_broker",
      "-report-cipd",
      "-digest",
      "deadbeef",
      "-pkg-name",
      "3pp/tools/posix_tool/mac-amd64",
      "-iid",
      "40-chars-fake-of-the-package-instance_id"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/posix_tool",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.2.0"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/posix_tool.do upload.report_cipd",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [],
    "name": "building tools/windows_experiment"
  },
  {
    "cmd": [
      "vpython3",
      "-u",
      "[CACHE]/builder/package_repo/dir_tools/windows_experiment/fetch.py",
      "latest"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/windows_experiment",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/windows_experiment.fetch.py latest",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_TEXT@resolved version: 2.0.0@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "describe",
      "3pp/tools/windows_experiment/mac-amd64",
      "-version",
      "version:2@2.0.0",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/windows_experiment",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/windows_experiment.cipd describe 3pp/tools/windows_experiment/mac-amd64",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_TEXT@tag 'version:2@2.0.0' not found@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"error\": \"no such tag\", @@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": null@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "ensure-directory",
      "--mode",
      "0777",
      "[START_DIR]/3pp/wd/tools/windows_experiment/mac-amd64/2.0.0"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/windows_experiment",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/windows_experiment.mkdir -p [workdir]",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@"
    ]
  },
  {
    "cmd": [],
    "name": "building tools/windows_experiment.fetch sources",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "ensure-directory",
      "--mode",
      "0777",
      "[START_DIR]/3pp/wd/tools/windows_experiment/mac-amd64/2.0.0/checkout"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/windows_experiment",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/windows_experiment.fetch sources.mkdir -p [workdir]/checkout/",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "describe",
      "3pp/sources/script/tools/windows_experiment/mac-amd64",
      "-version",
      "version:2@2.0.0",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/windows_experiment",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/windows_experiment.fetch sources.cipd describe 3pp/sources/script/tools/windows_experiment/mac-amd64",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_TEXT@tag 'version:2@2.0.0' not found@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"error\": \"no such tag\", @@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": null@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "vpython3",
      "-u",
      "[CACHE]/builder/package_repo/dir_tools/windows_experiment/fetch.py",
      "get_url"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/windows_experiment",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/windows_experiment.fetch sources.fetch.py get_url",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"ext\": \".test\", @@@",
      "@@@STEP_LOG_LINE@json.output@  \"name\": [@@@",
      "@@@STEP_LOG_LINE@json.output@    \"test_source\"@@@",
      "@@@STEP_LOG_LINE@json.output@  ], @@@",
      "@@@STEP_LOG_LINE@json.output@  \"url\": [@@@",
      "@@@STEP_LOG_LINE@json.output@    \"https://some.internet.example.com/tools/windows_experiment\"@@@",
      "@@@STEP_LOG_LINE@json.output@  ]@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::url]/resources/pycurl.py",
      "--url",
      "https://some.internet.example.com/tools/windows_experiment",
      "--status-json",
      "/path/to/tmp/json",
      "--outfile",
      "[START_DIR]/3pp/wd/tools/windows_experiment/mac-amd64/2.0.0/checkout/test_source"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/windows_experiment",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/windows_experiment.fetch sources.GET https://some.internet.example.com/tools/windows_experiment",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "pkg-build",
      "-pkg-def",
      "{\"data\": [{\"dir\": \".\", \"exclude\": []}], \"install_mode\": \"copy\", \"package\": \"3pp/sources/script/tools/windows_experiment/mac-amd64\", \"preserve_writable\": true, \"root\": \"[START_DIR]/3pp/wd/tools/windows_experiment/mac-amd64/2.0.0/checkout\"}",
      "-out",
      "[CLEANUP]/tmp_tmp_13",
      "-hash-algo",
      "sha256",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/windows_experiment",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/windows_experiment.fetch sources.build 3pp/sources/script/tools/windows_experiment/mac-amd64",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"instance_id\": \"40-chars-fake-of-the-package-instance_id\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"package\": \"3pp/sources/script/tools/windows_experiment/mac-amd64\"@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "ensure-directory",
      "--mode",
      "0777",
      "[CACHE]/3pp_cipd/3pp/sources/script/tools/windows_experiment/mac-amd64"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/windows_experiment",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/windows_experiment.fetch sources.ensure cipd pkg cache exists",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "move",
      "[CLEANUP]/tmp_tmp_13",
      "[CACHE]/3pp_cipd/3pp/sources/script/tools/windows_experiment/mac-amd64/40-chars-fake-of-the-package-instance_id"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/windows_experiment",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/windows_experiment.fetch sources.mv built cipd pkg to cache",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [],
    "name": "building tools/windows_experiment.fetch sources.upload source to cipd",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "describe",
      "3pp/sources/script/tools/windows_experiment/mac-amd64",
      "-version",
      "version:2@2.0.0",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/windows_experiment",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/windows_experiment.fetch sources.upload source to cipd.cipd describe 3pp/sources/script/tools/windows_experiment/mac-amd64",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@3@@@",
      "@@@STEP_TEXT@tag 'version:2@2.0.0' not found@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"error\": \"no such tag\", @@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": null@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "pkg-register",
      "[CACHE]/3pp_cipd/3pp/sources/script/tools/windows_experiment/mac-amd64/40-chars-fake-of-the-package-instance_id",
      "-tag",
      "build_id:8945511751514863184",
      "-tag",
      "version:2@2.0.0",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/windows_experiment",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/windows_experiment.fetch sources.upload source to cipd.register 3pp/sources/script/tools/windows_experiment/mac-amd64",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@3@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"instance_id\": \"40-chars-fake-of-the-package-instance_id\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"package\": \"3pp/sources/script/tools/windows_experiment/mac-amd64\"@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@",
      "@@@STEP_LINK@3pp/sources/script/tools/windows_experiment/mac-amd64@https://chrome-infra-packages.appspot.com/p/3pp/sources/script/tools/windows_experiment/mac-amd64/+/40-chars-fake-of-the-package-instance_id@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "copytree",
      "[CACHE]/builder/package_repo/dir_tools/windows_experiment",
      "[START_DIR]/3pp/wd/tools/windows_experiment/mac-amd64/2.0.0/checkout/.3pp/tools/windows_experiment"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/windows_experiment",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/windows_experiment.fetch sources.copy package definition tools/windows_experiment",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [],
    "name": "building tools/windows_experiment.run installation",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "ensure-directory",
      "--mode",
      "0777",
      "[START_DIR]/3pp/wd/tools/windows_experiment/mac-amd64/2.0.0/out"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/windows_experiment",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/windows_experiment.run installation.make output dir",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "ensure",
      "-root",
      "[CACHE]/osx_sdk",
      "-ensure-file",
      "infra/tools/mac_toolchain/${platform} git_revision:723fc1a6c8cdf2631a57851f5610e598db0c1de1",
      "-max-threads",
      "0",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "cwd": "[START_DIR]/3pp/wd/tools/windows_experiment/mac-amd64/2.0.0/checkout",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/windows_experiment",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "env_prefixes": {
      "PATH": [
        "[START_DIR]/3pp/wd/tools/windows_experiment/mac-amd64/2.0.0/tools_prefix",
        "[START_DIR]/3pp/wd/tools/windows_experiment/mac-amd64/2.0.0/tools_prefix/bin"
      ]
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/windows_experiment.run installation.ensure_installed",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"\": [@@@",
      "@@@STEP_LOG_LINE@json.output@      {@@@",
      "@@@STEP_LOG_LINE@json.output@        \"instance_id\": \"resolved-instance_id-of-git_revision:723\", @@@",
      "@@@STEP_LOG_LINE@json.output@        \"package\": \"infra/tools/mac_toolchain/resolved-platform\"@@@",
      "@@@STEP_LOG_LINE@json.output@      }@@@",
      "@@@STEP_LOG_LINE@json.output@    ]@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "[CACHE]/osx_sdk/mac_toolchain",
      "install",
      "-kind",
      "mac",
      "-xcode-version",
      "9f2000",
      "-output-dir",
      "[CACHE]/osx_sdk/XCode.app"
    ],
    "cwd": "[START_DIR]/3pp/wd/tools/windows_experiment/mac-amd64/2.0.0/checkout",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/windows_experiment",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "env_prefixes": {
      "PATH": [
        "[START_DIR]/3pp/wd/tools/windows_experiment/mac-amd64/2.0.0/tools_prefix",
        "[START_DIR]/3pp/wd/tools/windows_experiment/mac-amd64/2.0.0/tools_prefix/bin"
      ]
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/windows_experiment.run installation.install xcode",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "sudo",
      "xcode-select",
      "--switch",
      "[CACHE]/osx_sdk/XCode.app"
    ],
    "cwd": "[START_DIR]/3pp/wd/tools/windows_experiment/mac-amd64/2.0.0/checkout",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/windows_experiment",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "env_prefixes": {
      "PATH": [
        "[START_DIR]/3pp/wd/tools/windows_experiment/mac-amd64/2.0.0/tools_prefix",
        "[START_DIR]/3pp/wd/tools/windows_experiment/mac-amd64/2.0.0/tools_prefix/bin"
      ]
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/windows_experiment.run installation.select XCode",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "bash",
      "[START_DIR]/3pp/wd/tools/windows_experiment/mac-amd64/2.0.0/checkout/.3pp/tools/windows_experiment/install.sh",
      "[START_DIR]/3pp/wd/tools/windows_experiment/mac-amd64/2.0.0/out",
      "[START_DIR]/3pp/wd/tools/windows_experiment/mac-amd64/2.0.0/deps_prefix"
    ],
    "cwd": "[START_DIR]/3pp/wd/tools/windows_experiment/mac-amd64/2.0.0/checkout",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/windows_experiment",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "env_prefixes": {
      "PATH": [
        "RECIPE_MODULE[infra::support_3pp]/resources/mac_support",
        "[START_DIR]/3pp/wd/tools/windows_experiment/mac-amd64/2.0.0/tools_prefix",
        "[START_DIR]/3pp/wd/tools/windows_experiment/mac-amd64/2.0.0/tools_prefix/bin"
      ]
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/windows_experiment.run installation.install.sh [START_DIR]/3pp/wd/tools/windows_experiment/mac-amd64/2.0.0/out [START_DIR]/3pp/wd/tools/windows_experiment/mac-amd64/2.0.0/deps_prefix",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "sudo",
      "xcode-select",
      "--reset"
    ],
    "cwd": "[START_DIR]/3pp/wd/tools/windows_experiment/mac-amd64/2.0.0/checkout",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/windows_experiment",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "env_prefixes": {
      "PATH": [
        "[START_DIR]/3pp/wd/tools/windows_experiment/mac-amd64/2.0.0/tools_prefix",
        "[START_DIR]/3pp/wd/tools/windows_experiment/mac-amd64/2.0.0/tools_prefix/bin"
      ]
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/windows_experiment.run installation.reset XCode",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "listdir",
      "[START_DIR]/3pp/wd/tools/windows_experiment/mac-amd64/2.0.0/out",
      "--recursive"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/windows_experiment",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/windows_experiment.List files to be packaged",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_LOG_END@listdir@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "pkg-build",
      "-pkg-def",
      "{\"data\": [{\"dir\": \".\", \"exclude\": []}], \"install_mode\": \"copy\", \"package\": \"3pp/tools/windows_experiment/mac-amd64\", \"root\": \"[START_DIR]/3pp/wd/tools/windows_experiment/mac-amd64/2.0.0/out\"}",
      "-out",
      "[CLEANUP]/tmp_tmp_14",
      "-hash-algo",
      "sha256",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/windows_experiment",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/windows_experiment.build 3pp/tools/windows_experiment/mac-amd64",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"instance_id\": \"40-chars-fake-of-the-package-instance_id\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"package\": \"3pp/tools/windows_experiment/mac-amd64\"@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "ensure-directory",
      "--mode",
      "0777",
      "[CACHE]/3pp_cipd/3pp/tools/windows_experiment/mac-amd64"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/windows_experiment",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/windows_experiment.ensure cipd pkg cache exists",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "move",
      "[CLEANUP]/tmp_tmp_14",
      "[CACHE]/3pp_cipd/3pp/tools/windows_experiment/mac-amd64/40-chars-fake-of-the-package-instance_id"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/windows_experiment",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/windows_experiment.mv built cipd pkg to cache",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@"
    ]
  },
  {
    "cmd": [],
    "name": "building tools/windows_experiment.do upload",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_LINK@40-chars-fake-of-the-package-instance_id@https://chrome-infra-packages.appspot.com/p/3pp/tools/windows_experiment/mac-amd64/+/40-chars-fake-of-the-package-instance_id@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "describe",
      "3pp/tools/windows_experiment/mac-amd64",
      "-version",
      "version:2@2.0.0",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/windows_experiment",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/windows_experiment.do upload.cipd describe 3pp/tools/windows_experiment/mac-amd64",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_TEXT@tag 'version:2@2.0.0' not found@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"error\": \"no such tag\", @@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": null@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "pkg-register",
      "[CACHE]/3pp_cipd/3pp/tools/windows_experiment/mac-amd64/40-chars-fake-of-the-package-instance_id",
      "-ref",
      "latest",
      "-tag",
      "3pp_ecosystem_hash:2393a4a4151c4933f7b07a7037bf824a0092acc8cf9a8c99f39b126f3b078b3b",
      "-tag",
      "build_id:8945511751514863184",
      "-tag",
      "version:2@2.0.0",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/windows_experiment",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/windows_experiment.do upload.register 3pp/tools/windows_experiment/mac-amd64",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"instance_id\": \"40-chars-fake-of-the-package-instance_id\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"package\": \"3pp/tools/windows_experiment/mac-amd64\"@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@",
      "@@@STEP_LINK@3pp/tools/windows_experiment/mac-amd64@https://chrome-infra-packages.appspot.com/p/3pp/tools/windows_experiment/mac-amd64/+/40-chars-fake-of-the-package-instance_id@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "file_hash",
      "[CACHE]/3pp_cipd/3pp/tools/windows_experiment/mac-amd64/40-chars-fake-of-the-package-instance_id"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/windows_experiment",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/windows_experiment.do upload.Compute file hash",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_TEXT@Hash calculated: deadbeef@@@"
    ]
  },
  {
    "cmd": [
      "[START_DIR]/snoopy/snoopy_broker",
      "-report-cipd",
      "-digest",
      "deadbeef",
      "-pkg-name",
      "3pp/tools/windows_experiment/mac-amd64",
      "-iid",
      "40-chars-fake-of-the-package-instance_id"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/windows_experiment",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/windows_experiment.do upload.report_cipd",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [],
    "name": "building build_tools/git_tool"
  },
  {
    "cmd": [
      "git",
      "ls-remote",
      "-t",
      "https://chromium.googlesource.com/external/go.repo/git_tool"
    ],
    "cwd": "[START_DIR]/3pp/wd/deps/bottom_dep_git/mac-amd64/1.5.0-rc1/checkout",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/git_tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/git_tool.git ls-remote",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_TEXT@resolved version: 1.5.0-rc1@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "describe",
      "3pp/build_tools/git_tool/mac-amd64",
      "-version",
      "version:2@1.5.0-rc1.chops.1",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/git_tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/git_tool.cipd describe 3pp/build_tools/git_tool/mac-amd64",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_TEXT@tag 'version:2@1.5.0-rc1.chops.1' not found@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"error\": \"no such tag\", @@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": null@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "ensure-directory",
      "--mode",
      "0777",
      "[START_DIR]/3pp/wd/build_tools/git_tool/mac-amd64/1.5.0-rc1"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/git_tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/git_tool.mkdir -p [workdir]",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@"
    ]
  },
  {
    "cmd": [],
    "name": "building build_tools/git_tool.fetch sources",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@"
    ]
  },
  {
    "cmd": [],
    "name": "building build_tools/git_tool.fetch sources.installing tools",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "pkg-fetch",
      "3pp/build_tools/tool/mac-amd64",
      "-version",
      "version:2@0.9.0.chops.1",
      "-out",
      "[CLEANUP]/tmp_tmp_15",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/git_tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/git_tool.fetch sources.installing tools.cipd pkg-fetch 3pp/build_tools/tool/mac-amd64",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@3@@@",
      "@@@STEP_TEXT@3pp/build_tools/tool/mac-amd64 resolved-instance_id-of-version:2@0.9.0.@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"instance_id\": \"resolved-instance_id-of-version:2@0.9.0.\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"package\": \"3pp/build_tools/tool/mac-amd64\"@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "ensure-directory",
      "--mode",
      "0777",
      "[CACHE]/3pp_cipd/3pp/build_tools/tool/mac-amd64"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/git_tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/git_tool.fetch sources.installing tools.ensure cipd package cache exists",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@3@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "move",
      "[CLEANUP]/tmp_tmp_15",
      "[CACHE]/3pp_cipd/3pp/build_tools/tool/mac-amd64/resolved-instance_id-of-version:2@0.9.0."
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/git_tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/git_tool.fetch sources.installing tools.move fetched cipd package to cache",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@3@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "pkg-deploy",
      "[CACHE]/3pp_cipd/3pp/build_tools/tool/mac-amd64/resolved-instance_id-of-version:2@0.9.0.",
      "-root",
      "[START_DIR]/3pp/wd/build_tools/git_tool/mac-amd64/1.5.0-rc1/tools_prefix",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/git_tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/git_tool.fetch sources.installing tools.cipd pkg-deploy [CACHE]/3pp_cipd/3pp/build_tools/tool/mac-amd64/resolved-instance_id-of-version:2@0.9.0.",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@3@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"instance_id\": \"resolved-instance_id-of-version/of/resol\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"package\": \"pkg/name/of/resolved-instance_id-of-version:2@0.9.0.\"@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [],
    "name": "building build_tools/git_tool.fetch sources.installing deps",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "pkg-deploy",
      "[CACHE]/3pp_cipd/3pp/deps/bottom_dep_url/mac-amd64/40-chars-fake-of-the-package-instance_id",
      "-root",
      "[START_DIR]/3pp/wd/build_tools/git_tool/mac-amd64/1.5.0-rc1/deps_prefix",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/git_tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/git_tool.fetch sources.installing deps.cipd pkg-deploy [CACHE]/3pp_cipd/3pp/deps/bottom_dep_url/mac-amd64/40-chars-fake-of-the-package-instance_id",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@3@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"instance_id\": \"resolved-instance_id-of-version/of/40-ch\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"package\": \"pkg/name/of/40-chars-fake-of-the-package-instance_id\"@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "pkg-deploy",
      "[CACHE]/3pp_cipd/3pp/deps/bottom_dep_git/mac-amd64/40-chars-fake-of-the-package-instance_id",
      "-root",
      "[START_DIR]/3pp/wd/build_tools/git_tool/mac-amd64/1.5.0-rc1/deps_prefix",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/git_tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/git_tool.fetch sources.installing deps.cipd pkg-deploy [CACHE]/3pp_cipd/3pp/deps/bottom_dep_git/mac-amd64/40-chars-fake-of-the-package-instance_id",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@3@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"instance_id\": \"resolved-instance_id-of-version/of/40-ch\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"package\": \"pkg/name/of/40-chars-fake-of-the-package-instance_id\"@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "describe",
      "3pp/sources/git/go.repo/git_tool",
      "-version",
      "version:2@1.5.0-rc1",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/git_tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/git_tool.fetch sources.cipd describe 3pp/sources/git/go.repo/git_tool",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"error\": \"no such tag\", @@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": null@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "ensure-directory",
      "--mode",
      "0777",
      "[START_DIR]/3pp/wd/build_tools/git_tool/mac-amd64/1.5.0-rc1/checkout/src/go.repo/tool"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/git_tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/git_tool.fetch sources.mkdir -p [workdir]/checkout/src/go.repo/tool",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "describe",
      "3pp/sources/git/go.repo/git_tool",
      "-version",
      "version:2@1.5.0-rc1",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/git_tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/git_tool.fetch sources.cipd describe 3pp/sources/git/go.repo/git_tool (2)",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_TEXT@tag 'version:2@1.5.0-rc1' not found@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"error\": \"no such tag\", @@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": null@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "python3",
      "-u",
      "RECIPE_MODULE[depot_tools::git]/resources/git_setup.py",
      "--path",
      "[START_DIR]/3pp/wd/build_tools/git_tool/mac-amd64/1.5.0-rc1/checkout/src/go.repo/tool",
      "--url",
      "https://chromium.googlesource.com/external/go.repo/git_tool"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/git_tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/git_tool.fetch sources.git setup",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "git",
      "fetch",
      "origin",
      "hash",
      "--progress",
      "--tags"
    ],
    "cwd": "[START_DIR]/3pp/wd/build_tools/git_tool/mac-amd64/1.5.0-rc1/checkout/src/go.repo/tool",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "PATH": "RECIPE_REPO[depot_tools]:<PATH>",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/git_tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/git_tool.fetch sources.git fetch",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "git",
      "checkout",
      "-f",
      "FETCH_HEAD"
    ],
    "cwd": "[START_DIR]/3pp/wd/build_tools/git_tool/mac-amd64/1.5.0-rc1/checkout/src/go.repo/tool",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/git_tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/git_tool.fetch sources.git checkout",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "git",
      "rev-parse",
      "HEAD"
    ],
    "cwd": "[START_DIR]/3pp/wd/build_tools/git_tool/mac-amd64/1.5.0-rc1/checkout/src/go.repo/tool",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/git_tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/git_tool.fetch sources.read revision",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_TEXT@<br/>checked out 'deadbeef'<br/>@@@"
    ]
  },
  {
    "cmd": [
      "git",
      "clean",
      "-f",
      "-d",
      "-x"
    ],
    "cwd": "[START_DIR]/3pp/wd/build_tools/git_tool/mac-amd64/1.5.0-rc1/checkout/src/go.repo/tool",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/git_tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/git_tool.fetch sources.git clean",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "git",
      "submodule",
      "sync"
    ],
    "cwd": "[START_DIR]/3pp/wd/build_tools/git_tool/mac-amd64/1.5.0-rc1/checkout/src/go.repo/tool",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/git_tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/git_tool.fetch sources.submodule sync",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "git",
      "submodule",
      "update",
      "--init",
      "--recursive"
    ],
    "cwd": "[START_DIR]/3pp/wd/build_tools/git_tool/mac-amd64/1.5.0-rc1/checkout/src/go.repo/tool",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/git_tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/git_tool.fetch sources.submodule update",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "pkg-build",
      "-pkg-def",
      "{\"data\": [{\"dir\": \".\", \"exclude\": [\"\\\\.git\"]}], \"install_mode\": \"copy\", \"package\": \"3pp/sources/git/go.repo/git_tool\", \"preserve_writable\": true, \"root\": \"[START_DIR]/3pp/wd/build_tools/git_tool/mac-amd64/1.5.0-rc1/checkout/src/go.repo/tool\"}",
      "-out",
      "[CLEANUP]/tmp_tmp_16",
      "-hash-algo",
      "sha256",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/git_tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/git_tool.fetch sources.build 3pp/sources/git/go.repo/git_tool",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"instance_id\": \"40-chars-fake-of-the-package-instance_id\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"package\": \"3pp/sources/git/go.repo/git_tool\"@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "ensure-directory",
      "--mode",
      "0777",
      "[CACHE]/3pp_cipd/3pp/sources/git/go.repo/git_tool"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/git_tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/git_tool.fetch sources.ensure cipd pkg cache exists",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "move",
      "[CLEANUP]/tmp_tmp_16",
      "[CACHE]/3pp_cipd/3pp/sources/git/go.repo/git_tool/40-chars-fake-of-the-package-instance_id"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/git_tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/git_tool.fetch sources.mv built cipd pkg to cache",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [],
    "name": "building build_tools/git_tool.fetch sources.upload source to cipd",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "describe",
      "3pp/sources/git/go.repo/git_tool",
      "-version",
      "version:2@1.5.0-rc1",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/git_tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/git_tool.fetch sources.upload source to cipd.cipd describe 3pp/sources/git/go.repo/git_tool",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@3@@@",
      "@@@STEP_TEXT@tag 'version:2@1.5.0-rc1' not found@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"error\": \"no such tag\", @@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": null@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "pkg-register",
      "[CACHE]/3pp_cipd/3pp/sources/git/go.repo/git_tool/40-chars-fake-of-the-package-instance_id",
      "-tag",
      "build_id:8945511751514863184",
      "-tag",
      "external_hash:hash",
      "-tag",
      "version:2@1.5.0-rc1",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/git_tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/git_tool.fetch sources.upload source to cipd.register 3pp/sources/git/go.repo/git_tool",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@3@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"instance_id\": \"40-chars-fake-of-the-package-instance_id\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"package\": \"3pp/sources/git/go.repo/git_tool\"@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@",
      "@@@STEP_LINK@3pp/sources/git/go.repo/git_tool@https://chrome-infra-packages.appspot.com/p/3pp/sources/git/go.repo/git_tool/+/40-chars-fake-of-the-package-instance_id@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "glob",
      "[CACHE]/builder/package_repo/dir_build_tools/git_tool/patches",
      "*"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/git_tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/git_tool.fetch sources.find patches in patches",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_LOG_END@glob@@@"
    ]
  },
  {
    "cmd": [
      "git",
      "apply",
      "-v"
    ],
    "cwd": "[START_DIR]/3pp/wd/build_tools/git_tool/mac-amd64/1.5.0-rc1/checkout/src/go.repo/tool",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/git_tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/git_tool.fetch sources.git apply",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "copytree",
      "[CACHE]/builder/package_repo/dir_deps/bottom_dep_git",
      "[START_DIR]/3pp/wd/build_tools/git_tool/mac-amd64/1.5.0-rc1/checkout/.3pp/deps/bottom_dep_git"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/git_tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/git_tool.fetch sources.copy package definition deps/bottom_dep_git",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "copytree",
      "[CACHE]/builder/package_repo/dir_deps/bottom_dep_url",
      "[START_DIR]/3pp/wd/build_tools/git_tool/mac-amd64/1.5.0-rc1/checkout/.3pp/deps/bottom_dep_url"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/git_tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/git_tool.fetch sources.copy package definition deps/bottom_dep_url",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "copytree",
      "[CACHE]/builder/package_repo/dir_build_tools/git_tool",
      "[START_DIR]/3pp/wd/build_tools/git_tool/mac-amd64/1.5.0-rc1/checkout/.3pp/build_tools/git_tool"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/git_tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/git_tool.fetch sources.copy package definition build_tools/git_tool",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [],
    "name": "building build_tools/git_tool.run installation",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "ensure-directory",
      "--mode",
      "0777",
      "[START_DIR]/3pp/wd/build_tools/git_tool/mac-amd64/1.5.0-rc1/out"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/git_tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/git_tool.run installation.make output dir",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "ensure",
      "-root",
      "[CACHE]/osx_sdk",
      "-ensure-file",
      "infra/tools/mac_toolchain/${platform} git_revision:723fc1a6c8cdf2631a57851f5610e598db0c1de1",
      "-max-threads",
      "0",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "cwd": "[START_DIR]/3pp/wd/build_tools/git_tool/mac-amd64/1.5.0-rc1/checkout",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/git_tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "env_prefixes": {
      "PATH": [
        "[START_DIR]/3pp/wd/build_tools/git_tool/mac-amd64/1.5.0-rc1/tools_prefix",
        "[START_DIR]/3pp/wd/build_tools/git_tool/mac-amd64/1.5.0-rc1/tools_prefix/bin"
      ]
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/git_tool.run installation.ensure_installed",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"\": [@@@",
      "@@@STEP_LOG_LINE@json.output@      {@@@",
      "@@@STEP_LOG_LINE@json.output@        \"instance_id\": \"resolved-instance_id-of-git_revision:723\", @@@",
      "@@@STEP_LOG_LINE@json.output@        \"package\": \"infra/tools/mac_toolchain/resolved-platform\"@@@",
      "@@@STEP_LOG_LINE@json.output@      }@@@",
      "@@@STEP_LOG_LINE@json.output@    ]@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "[CACHE]/osx_sdk/mac_toolchain",
      "install",
      "-kind",
      "mac",
      "-xcode-version",
      "9f2000",
      "-output-dir",
      "[CACHE]/osx_sdk/XCode.app"
    ],
    "cwd": "[START_DIR]/3pp/wd/build_tools/git_tool/mac-amd64/1.5.0-rc1/checkout",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/git_tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "env_prefixes": {
      "PATH": [
        "[START_DIR]/3pp/wd/build_tools/git_tool/mac-amd64/1.5.0-rc1/tools_prefix",
        "[START_DIR]/3pp/wd/build_tools/git_tool/mac-amd64/1.5.0-rc1/tools_prefix/bin"
      ]
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/git_tool.run installation.install xcode",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "sudo",
      "xcode-select",
      "--switch",
      "[CACHE]/osx_sdk/XCode.app"
    ],
    "cwd": "[START_DIR]/3pp/wd/build_tools/git_tool/mac-amd64/1.5.0-rc1/checkout",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/git_tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "env_prefixes": {
      "PATH": [
        "[START_DIR]/3pp/wd/build_tools/git_tool/mac-amd64/1.5.0-rc1/tools_prefix",
        "[START_DIR]/3pp/wd/build_tools/git_tool/mac-amd64/1.5.0-rc1/tools_prefix/bin"
      ]
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/git_tool.run installation.select XCode",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "bash",
      "[START_DIR]/3pp/wd/build_tools/git_tool/mac-amd64/1.5.0-rc1/checkout/.3pp/build_tools/git_tool/install-mac.sh",
      "[START_DIR]/3pp/wd/build_tools/git_tool/mac-amd64/1.5.0-rc1/out",
      "[START_DIR]/3pp/wd/build_tools/git_tool/mac-amd64/1.5.0-rc1/deps_prefix"
    ],
    "cwd": "[START_DIR]/3pp/wd/build_tools/git_tool/mac-amd64/1.5.0-rc1/checkout",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/git_tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "env_prefixes": {
      "PATH": [
        "RECIPE_MODULE[infra::support_3pp]/resources/mac_support",
        "[START_DIR]/3pp/wd/build_tools/git_tool/mac-amd64/1.5.0-rc1/tools_prefix",
        "[START_DIR]/3pp/wd/build_tools/git_tool/mac-amd64/1.5.0-rc1/tools_prefix/bin"
      ]
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/git_tool.run installation.install-mac.sh [START_DIR]/3pp/wd/build_tools/git_tool/mac-amd64/1.5.0-rc1/out [START_DIR]/3pp/wd/build_tools/git_tool/mac-amd64/1.5.0-rc1/deps_prefix",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "sudo",
      "xcode-select",
      "--reset"
    ],
    "cwd": "[START_DIR]/3pp/wd/build_tools/git_tool/mac-amd64/1.5.0-rc1/checkout",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/git_tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "env_prefixes": {
      "PATH": [
        "[START_DIR]/3pp/wd/build_tools/git_tool/mac-amd64/1.5.0-rc1/tools_prefix",
        "[START_DIR]/3pp/wd/build_tools/git_tool/mac-amd64/1.5.0-rc1/tools_prefix/bin"
      ]
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/git_tool.run installation.reset XCode",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "listdir",
      "[START_DIR]/3pp/wd/build_tools/git_tool/mac-amd64/1.5.0-rc1/out",
      "--recursive"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/git_tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/git_tool.List files to be packaged",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_LOG_END@listdir@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "pkg-build",
      "-pkg-def",
      "{\"data\": [{\"dir\": \".\", \"exclude\": []}, {\"version_file\": \".versions/tool.cipd_version\"}], \"install_mode\": \"symlink\", \"package\": \"3pp/build_tools/git_tool/mac-amd64\", \"root\": \"[START_DIR]/3pp/wd/build_tools/git_tool/mac-amd64/1.5.0-rc1/out\"}",
      "-out",
      "[CLEANUP]/tmp_tmp_17",
      "-hash-algo",
      "sha256",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/git_tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/git_tool.build 3pp/build_tools/git_tool/mac-amd64",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"instance_id\": \"40-chars-fake-of-the-package-instance_id\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"package\": \"3pp/build_tools/git_tool/mac-amd64\"@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "ensure-directory",
      "--mode",
      "0777",
      "[CACHE]/3pp_cipd/3pp/build_tools/git_tool/mac-amd64"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/git_tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/git_tool.ensure cipd pkg cache exists",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "move",
      "[CLEANUP]/tmp_tmp_17",
      "[CACHE]/3pp_cipd/3pp/build_tools/git_tool/mac-amd64/40-chars-fake-of-the-package-instance_id"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/git_tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/git_tool.mv built cipd pkg to cache",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@"
    ]
  },
  {
    "cmd": [],
    "name": "building build_tools/git_tool.run test",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "ensure-directory",
      "--mode",
      "0777",
      "[START_DIR]/3pp/wd/build_tools/git_tool/mac-amd64/1.5.0-rc1/verify"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/git_tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/git_tool.run test.mkdir [verify]",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "copy",
      "[CACHE]/3pp_cipd/3pp/build_tools/git_tool/mac-amd64/40-chars-fake-of-the-package-instance_id",
      "[START_DIR]/3pp/wd/build_tools/git_tool/mac-amd64/1.5.0-rc1/verify/cipd.pkg"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/git_tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/git_tool.run test.cp cipd.pkg [verify]/cipd.pkg",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "ensure",
      "-root",
      "[CACHE]/osx_sdk",
      "-ensure-file",
      "infra/tools/mac_toolchain/${platform} git_revision:723fc1a6c8cdf2631a57851f5610e598db0c1de1",
      "-max-threads",
      "0",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "cwd": "[START_DIR]/3pp/wd/build_tools/git_tool/mac-amd64/1.5.0-rc1/verify",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/git_tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/git_tool.run test.ensure_installed",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"\": [@@@",
      "@@@STEP_LOG_LINE@json.output@      {@@@",
      "@@@STEP_LOG_LINE@json.output@        \"instance_id\": \"resolved-instance_id-of-git_revision:723\", @@@",
      "@@@STEP_LOG_LINE@json.output@        \"package\": \"infra/tools/mac_toolchain/resolved-platform\"@@@",
      "@@@STEP_LOG_LINE@json.output@      }@@@",
      "@@@STEP_LOG_LINE@json.output@    ]@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "[CACHE]/osx_sdk/mac_toolchain",
      "install",
      "-kind",
      "mac",
      "-xcode-version",
      "9f2000",
      "-output-dir",
      "[CACHE]/osx_sdk/XCode.app"
    ],
    "cwd": "[START_DIR]/3pp/wd/build_tools/git_tool/mac-amd64/1.5.0-rc1/verify",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/git_tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/git_tool.run test.install xcode",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "sudo",
      "xcode-select",
      "--switch",
      "[CACHE]/osx_sdk/XCode.app"
    ],
    "cwd": "[START_DIR]/3pp/wd/build_tools/git_tool/mac-amd64/1.5.0-rc1/verify",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/git_tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/git_tool.run test.select XCode",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "vpython3",
      "-u",
      "[START_DIR]/3pp/wd/build_tools/git_tool/mac-amd64/1.5.0-rc1/checkout/.3pp/build_tools/git_tool/test.py",
      "mac",
      "[START_DIR]/3pp/wd/build_tools/git_tool/mac-amd64/1.5.0-rc1/verify/cipd.pkg"
    ],
    "cwd": "[START_DIR]/3pp/wd/build_tools/git_tool/mac-amd64/1.5.0-rc1/verify",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/git_tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/git_tool.run test.test.py mac [START_DIR]/3pp/wd/build_tools/git_tool/mac-amd64/1.5.0-rc1/verify/cipd.pkg",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "sudo",
      "xcode-select",
      "--reset"
    ],
    "cwd": "[START_DIR]/3pp/wd/build_tools/git_tool/mac-amd64/1.5.0-rc1/verify",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/git_tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/git_tool.run test.reset XCode",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [],
    "name": "building build_tools/git_tool.do upload",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_LINK@40-chars-fake-of-the-package-instance_id@https://chrome-infra-packages.appspot.com/p/3pp/build_tools/git_tool/mac-amd64/+/40-chars-fake-of-the-package-instance_id@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "describe",
      "3pp/build_tools/git_tool/mac-amd64",
      "-version",
      "version:2@1.5.0-rc1.chops.1",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/git_tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/git_tool.do upload.cipd describe 3pp/build_tools/git_tool/mac-amd64",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_TEXT@tag 'version:2@1.5.0-rc1.chops.1' not found@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"error\": \"no such tag\", @@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": null@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "pkg-register",
      "[CACHE]/3pp_cipd/3pp/build_tools/git_tool/mac-amd64/40-chars-fake-of-the-package-instance_id",
      "-ref",
      "latest",
      "-tag",
      "3pp_ecosystem_hash:2393a4a4151c4933f7b07a7037bf824a0092acc8cf9a8c99f39b126f3b078b3b",
      "-tag",
      "build_id:8945511751514863184",
      "-tag",
      "version:2@1.5.0-rc1.chops.1",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/git_tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/git_tool.do upload.register 3pp/build_tools/git_tool/mac-amd64",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"instance_id\": \"40-chars-fake-of-the-package-instance_id\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"package\": \"3pp/build_tools/git_tool/mac-amd64\"@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@",
      "@@@STEP_LINK@3pp/build_tools/git_tool/mac-amd64@https://chrome-infra-packages.appspot.com/p/3pp/build_tools/git_tool/mac-amd64/+/40-chars-fake-of-the-package-instance_id@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "file_hash",
      "[CACHE]/3pp_cipd/3pp/build_tools/git_tool/mac-amd64/40-chars-fake-of-the-package-instance_id"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/git_tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/git_tool.do upload.Compute file hash",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_TEXT@Hash calculated: deadbeef@@@"
    ]
  },
  {
    "cmd": [
      "[START_DIR]/snoopy/snoopy_broker",
      "-report-cipd",
      "-digest",
      "deadbeef",
      "-pkg-name",
      "3pp/build_tools/git_tool/mac-amd64",
      "-iid",
      "40-chars-fake-of-the-package-instance_id"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/git_tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/git_tool.do upload.report_cipd",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [],
    "name": "building build_tools/tool"
  },
  {
    "cmd": [
      "cipd",
      "describe",
      "3pp/build_tools/tool/mac-amd64",
      "-version",
      "version:2@1.5.0-rc1.chops.1",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/tool.cipd describe 3pp/build_tools/tool/mac-amd64",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_TEXT@tag 'version:2@1.5.0-rc1.chops.1' not found@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"error\": \"no such tag\", @@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": null@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "ensure-directory",
      "--mode",
      "0777",
      "[START_DIR]/3pp/wd/build_tools/tool/mac-amd64/1.5.0-rc1"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/tool.mkdir -p [workdir]",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@"
    ]
  },
  {
    "cmd": [],
    "name": "building build_tools/tool.fetch sources",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@"
    ]
  },
  {
    "cmd": [],
    "name": "building build_tools/tool.fetch sources.installing tools",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "pkg-deploy",
      "[CACHE]/3pp_cipd/3pp/build_tools/tool/mac-amd64/resolved-instance_id-of-version:2@0.9.0.",
      "-root",
      "[START_DIR]/3pp/wd/build_tools/tool/mac-amd64/1.5.0-rc1/tools_prefix",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/tool.fetch sources.installing tools.cipd pkg-deploy [CACHE]/3pp_cipd/3pp/build_tools/tool/mac-amd64/resolved-instance_id-of-version:2@0.9.0.",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@3@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"instance_id\": \"resolved-instance_id-of-version/of/resol\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"package\": \"pkg/name/of/resolved-instance_id-of-version:2@0.9.0.\"@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [],
    "name": "building build_tools/tool.fetch sources.installing deps",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "pkg-deploy",
      "[CACHE]/3pp_cipd/3pp/deps/bottom_dep_url/mac-amd64/40-chars-fake-of-the-package-instance_id",
      "-root",
      "[START_DIR]/3pp/wd/build_tools/tool/mac-amd64/1.5.0-rc1/deps_prefix",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/tool.fetch sources.installing deps.cipd pkg-deploy [CACHE]/3pp_cipd/3pp/deps/bottom_dep_url/mac-amd64/40-chars-fake-of-the-package-instance_id",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@3@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"instance_id\": \"resolved-instance_id-of-version/of/40-ch\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"package\": \"pkg/name/of/40-chars-fake-of-the-package-instance_id\"@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "pkg-deploy",
      "[CACHE]/3pp_cipd/3pp/deps/bottom_dep_git/mac-amd64/40-chars-fake-of-the-package-instance_id",
      "-root",
      "[START_DIR]/3pp/wd/build_tools/tool/mac-amd64/1.5.0-rc1/deps_prefix",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/tool.fetch sources.installing deps.cipd pkg-deploy [CACHE]/3pp_cipd/3pp/deps/bottom_dep_git/mac-amd64/40-chars-fake-of-the-package-instance_id",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@3@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"instance_id\": \"resolved-instance_id-of-version/of/40-ch\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"package\": \"pkg/name/of/40-chars-fake-of-the-package-instance_id\"@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "ensure-directory",
      "--mode",
      "0777",
      "[START_DIR]/3pp/wd/build_tools/tool/mac-amd64/1.5.0-rc1/checkout/src/go.repo/tool"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/tool.fetch sources.mkdir -p [workdir]/checkout/src/go.repo/tool",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "describe",
      "3pp/sources/git/go.repo/tool",
      "-version",
      "version:2@1.5.0-rc1",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/tool.fetch sources.cipd describe 3pp/sources/git/go.repo/tool",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_TEXT@tag 'version:2@1.5.0-rc1' not found@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"error\": \"no such tag\", @@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": null@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "python3",
      "-u",
      "RECIPE_MODULE[depot_tools::git]/resources/git_setup.py",
      "--path",
      "[START_DIR]/3pp/wd/build_tools/tool/mac-amd64/1.5.0-rc1/checkout/src/go.repo/tool",
      "--url",
      "https://go.repo/tool"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/tool.fetch sources.git setup",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "git",
      "fetch",
      "origin",
      "main",
      "--progress",
      "--tags"
    ],
    "cwd": "[START_DIR]/3pp/wd/build_tools/tool/mac-amd64/1.5.0-rc1/checkout/src/go.repo/tool",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "PATH": "RECIPE_REPO[depot_tools]:<PATH>",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/tool.fetch sources.git fetch",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "git",
      "checkout",
      "-f",
      "FETCH_HEAD"
    ],
    "cwd": "[START_DIR]/3pp/wd/build_tools/tool/mac-amd64/1.5.0-rc1/checkout/src/go.repo/tool",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/tool.fetch sources.git checkout",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "git",
      "rev-parse",
      "HEAD"
    ],
    "cwd": "[START_DIR]/3pp/wd/build_tools/tool/mac-amd64/1.5.0-rc1/checkout/src/go.repo/tool",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/tool.fetch sources.read revision",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_TEXT@<br/>checked out 'deadbeef'<br/>@@@"
    ]
  },
  {
    "cmd": [
      "git",
      "clean",
      "-f",
      "-d",
      "-x"
    ],
    "cwd": "[START_DIR]/3pp/wd/build_tools/tool/mac-amd64/1.5.0-rc1/checkout/src/go.repo/tool",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/tool.fetch sources.git clean",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "git",
      "submodule",
      "sync"
    ],
    "cwd": "[START_DIR]/3pp/wd/build_tools/tool/mac-amd64/1.5.0-rc1/checkout/src/go.repo/tool",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/tool.fetch sources.submodule sync",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "git",
      "submodule",
      "update",
      "--init",
      "--recursive"
    ],
    "cwd": "[START_DIR]/3pp/wd/build_tools/tool/mac-amd64/1.5.0-rc1/checkout/src/go.repo/tool",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/tool.fetch sources.submodule update",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "pkg-build",
      "-pkg-def",
      "{\"data\": [{\"dir\": \".\", \"exclude\": [\"\\\\.git\"]}], \"install_mode\": \"copy\", \"package\": \"3pp/sources/git/go.repo/tool\", \"preserve_writable\": true, \"root\": \"[START_DIR]/3pp/wd/build_tools/tool/mac-amd64/1.5.0-rc1/checkout/src/go.repo/tool\"}",
      "-out",
      "[CLEANUP]/tmp_tmp_18",
      "-hash-algo",
      "sha256",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/tool.fetch sources.build 3pp/sources/git/go.repo/tool",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"instance_id\": \"40-chars-fake-of-the-package-instance_id\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"package\": \"3pp/sources/git/go.repo/tool\"@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "ensure-directory",
      "--mode",
      "0777",
      "[CACHE]/3pp_cipd/3pp/sources/git/go.repo/tool"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/tool.fetch sources.ensure cipd pkg cache exists",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "move",
      "[CLEANUP]/tmp_tmp_18",
      "[CACHE]/3pp_cipd/3pp/sources/git/go.repo/tool/40-chars-fake-of-the-package-instance_id"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/tool.fetch sources.mv built cipd pkg to cache",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [],
    "name": "building build_tools/tool.fetch sources.upload source to cipd",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "describe",
      "3pp/sources/git/go.repo/tool",
      "-version",
      "version:2@1.5.0-rc1",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/tool.fetch sources.upload source to cipd.cipd describe 3pp/sources/git/go.repo/tool",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@3@@@",
      "@@@STEP_TEXT@tag 'version:2@1.5.0-rc1' not found@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"error\": \"no such tag\", @@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": null@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "pkg-register",
      "[CACHE]/3pp_cipd/3pp/sources/git/go.repo/tool/40-chars-fake-of-the-package-instance_id",
      "-tag",
      "build_id:8945511751514863184",
      "-tag",
      "version:2@1.5.0-rc1",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/tool.fetch sources.upload source to cipd.register 3pp/sources/git/go.repo/tool",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@3@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"instance_id\": \"40-chars-fake-of-the-package-instance_id\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"package\": \"3pp/sources/git/go.repo/tool\"@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@",
      "@@@STEP_LINK@3pp/sources/git/go.repo/tool@https://chrome-infra-packages.appspot.com/p/3pp/sources/git/go.repo/tool/+/40-chars-fake-of-the-package-instance_id@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "glob",
      "[CACHE]/builder/package_repo/dir_build_tools/tool/patches",
      "*"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/tool.fetch sources.find patches in patches",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_LOG_END@glob@@@"
    ]
  },
  {
    "cmd": [
      "git",
      "apply",
      "-v"
    ],
    "cwd": "[START_DIR]/3pp/wd/build_tools/tool/mac-amd64/1.5.0-rc1/checkout/src/go.repo/tool",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/tool.fetch sources.git apply",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "copytree",
      "[CACHE]/builder/package_repo/dir_deps/bottom_dep_git",
      "[START_DIR]/3pp/wd/build_tools/tool/mac-amd64/1.5.0-rc1/checkout/.3pp/deps/bottom_dep_git"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/tool.fetch sources.copy package definition deps/bottom_dep_git",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "copytree",
      "[CACHE]/builder/package_repo/dir_deps/bottom_dep_url",
      "[START_DIR]/3pp/wd/build_tools/tool/mac-amd64/1.5.0-rc1/checkout/.3pp/deps/bottom_dep_url"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/tool.fetch sources.copy package definition deps/bottom_dep_url",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "copytree",
      "[CACHE]/builder/package_repo/dir_build_tools/tool",
      "[START_DIR]/3pp/wd/build_tools/tool/mac-amd64/1.5.0-rc1/checkout/.3pp/build_tools/tool"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/tool.fetch sources.copy package definition build_tools/tool",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [],
    "name": "building build_tools/tool.run installation",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "ensure-directory",
      "--mode",
      "0777",
      "[START_DIR]/3pp/wd/build_tools/tool/mac-amd64/1.5.0-rc1/out"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/tool.run installation.make output dir",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "ensure",
      "-root",
      "[CACHE]/osx_sdk",
      "-ensure-file",
      "infra/tools/mac_toolchain/${platform} git_revision:723fc1a6c8cdf2631a57851f5610e598db0c1de1",
      "-max-threads",
      "0",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "cwd": "[START_DIR]/3pp/wd/build_tools/tool/mac-amd64/1.5.0-rc1/checkout",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "env_prefixes": {
      "PATH": [
        "[START_DIR]/3pp/wd/build_tools/tool/mac-amd64/1.5.0-rc1/tools_prefix",
        "[START_DIR]/3pp/wd/build_tools/tool/mac-amd64/1.5.0-rc1/tools_prefix/bin"
      ]
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/tool.run installation.ensure_installed",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"\": [@@@",
      "@@@STEP_LOG_LINE@json.output@      {@@@",
      "@@@STEP_LOG_LINE@json.output@        \"instance_id\": \"resolved-instance_id-of-git_revision:723\", @@@",
      "@@@STEP_LOG_LINE@json.output@        \"package\": \"infra/tools/mac_toolchain/resolved-platform\"@@@",
      "@@@STEP_LOG_LINE@json.output@      }@@@",
      "@@@STEP_LOG_LINE@json.output@    ]@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "[CACHE]/osx_sdk/mac_toolchain",
      "install",
      "-kind",
      "mac",
      "-xcode-version",
      "9f2000",
      "-output-dir",
      "[CACHE]/osx_sdk/XCode.app"
    ],
    "cwd": "[START_DIR]/3pp/wd/build_tools/tool/mac-amd64/1.5.0-rc1/checkout",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "env_prefixes": {
      "PATH": [
        "[START_DIR]/3pp/wd/build_tools/tool/mac-amd64/1.5.0-rc1/tools_prefix",
        "[START_DIR]/3pp/wd/build_tools/tool/mac-amd64/1.5.0-rc1/tools_prefix/bin"
      ]
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/tool.run installation.install xcode",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "sudo",
      "xcode-select",
      "--switch",
      "[CACHE]/osx_sdk/XCode.app"
    ],
    "cwd": "[START_DIR]/3pp/wd/build_tools/tool/mac-amd64/1.5.0-rc1/checkout",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "env_prefixes": {
      "PATH": [
        "[START_DIR]/3pp/wd/build_tools/tool/mac-amd64/1.5.0-rc1/tools_prefix",
        "[START_DIR]/3pp/wd/build_tools/tool/mac-amd64/1.5.0-rc1/tools_prefix/bin"
      ]
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/tool.run installation.select XCode",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "bash",
      "[START_DIR]/3pp/wd/build_tools/tool/mac-amd64/1.5.0-rc1/checkout/.3pp/build_tools/tool/install-mac.sh",
      "[START_DIR]/3pp/wd/build_tools/tool/mac-amd64/1.5.0-rc1/out",
      "[START_DIR]/3pp/wd/build_tools/tool/mac-amd64/1.5.0-rc1/deps_prefix"
    ],
    "cwd": "[START_DIR]/3pp/wd/build_tools/tool/mac-amd64/1.5.0-rc1/checkout",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "env_prefixes": {
      "PATH": [
        "RECIPE_MODULE[infra::support_3pp]/resources/mac_support",
        "[START_DIR]/3pp/wd/build_tools/tool/mac-amd64/1.5.0-rc1/tools_prefix",
        "[START_DIR]/3pp/wd/build_tools/tool/mac-amd64/1.5.0-rc1/tools_prefix/bin"
      ]
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/tool.run installation.install-mac.sh [START_DIR]/3pp/wd/build_tools/tool/mac-amd64/1.5.0-rc1/out [START_DIR]/3pp/wd/build_tools/tool/mac-amd64/1.5.0-rc1/deps_prefix",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "sudo",
      "xcode-select",
      "--reset"
    ],
    "cwd": "[START_DIR]/3pp/wd/build_tools/tool/mac-amd64/1.5.0-rc1/checkout",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "env_prefixes": {
      "PATH": [
        "[START_DIR]/3pp/wd/build_tools/tool/mac-amd64/1.5.0-rc1/tools_prefix",
        "[START_DIR]/3pp/wd/build_tools/tool/mac-amd64/1.5.0-rc1/tools_prefix/bin"
      ]
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/tool.run installation.reset XCode",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "listdir",
      "[START_DIR]/3pp/wd/build_tools/tool/mac-amd64/1.5.0-rc1/out",
      "--recursive"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/tool.List files to be packaged",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_LOG_END@listdir@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "pkg-build",
      "-pkg-def",
      "{\"data\": [{\"dir\": \".\", \"exclude\": []}, {\"version_file\": \".versions/tool.cipd_version\"}], \"install_mode\": \"symlink\", \"package\": \"3pp/build_tools/tool/mac-amd64\", \"root\": \"[START_DIR]/3pp/wd/build_tools/tool/mac-amd64/1.5.0-rc1/out\"}",
      "-out",
      "[CLEANUP]/tmp_tmp_19",
      "-hash-algo",
      "sha256",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/tool.build 3pp/build_tools/tool/mac-amd64",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"instance_id\": \"40-chars-fake-of-the-package-instance_id\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"package\": \"3pp/build_tools/tool/mac-amd64\"@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "ensure-directory",
      "--mode",
      "0777",
      "[CACHE]/3pp_cipd/3pp/build_tools/tool/mac-amd64"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/tool.ensure cipd pkg cache exists",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "move",
      "[CLEANUP]/tmp_tmp_19",
      "[CACHE]/3pp_cipd/3pp/build_tools/tool/mac-amd64/40-chars-fake-of-the-package-instance_id"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/tool.mv built cipd pkg to cache",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@"
    ]
  },
  {
    "cmd": [],
    "name": "building build_tools/tool.run test",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "ensure-directory",
      "--mode",
      "0777",
      "[START_DIR]/3pp/wd/build_tools/tool/mac-amd64/1.5.0-rc1/verify"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/tool.run test.mkdir [verify]",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "copy",
      "[CACHE]/3pp_cipd/3pp/build_tools/tool/mac-amd64/40-chars-fake-of-the-package-instance_id",
      "[START_DIR]/3pp/wd/build_tools/tool/mac-amd64/1.5.0-rc1/verify/cipd.pkg"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/tool.run test.cp cipd.pkg [verify]/cipd.pkg",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "ensure",
      "-root",
      "[CACHE]/osx_sdk",
      "-ensure-file",
      "infra/tools/mac_toolchain/${platform} git_revision:723fc1a6c8cdf2631a57851f5610e598db0c1de1",
      "-max-threads",
      "0",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "cwd": "[START_DIR]/3pp/wd/build_tools/tool/mac-amd64/1.5.0-rc1/verify",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/tool.run test.ensure_installed",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"\": [@@@",
      "@@@STEP_LOG_LINE@json.output@      {@@@",
      "@@@STEP_LOG_LINE@json.output@        \"instance_id\": \"resolved-instance_id-of-git_revision:723\", @@@",
      "@@@STEP_LOG_LINE@json.output@        \"package\": \"infra/tools/mac_toolchain/resolved-platform\"@@@",
      "@@@STEP_LOG_LINE@json.output@      }@@@",
      "@@@STEP_LOG_LINE@json.output@    ]@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "[CACHE]/osx_sdk/mac_toolchain",
      "install",
      "-kind",
      "mac",
      "-xcode-version",
      "9f2000",
      "-output-dir",
      "[CACHE]/osx_sdk/XCode.app"
    ],
    "cwd": "[START_DIR]/3pp/wd/build_tools/tool/mac-amd64/1.5.0-rc1/verify",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/tool.run test.install xcode",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "sudo",
      "xcode-select",
      "--switch",
      "[CACHE]/osx_sdk/XCode.app"
    ],
    "cwd": "[START_DIR]/3pp/wd/build_tools/tool/mac-amd64/1.5.0-rc1/verify",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/tool.run test.select XCode",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "vpython3",
      "-u",
      "[START_DIR]/3pp/wd/build_tools/tool/mac-amd64/1.5.0-rc1/checkout/.3pp/build_tools/tool/test.py",
      "mac",
      "[START_DIR]/3pp/wd/build_tools/tool/mac-amd64/1.5.0-rc1/verify/cipd.pkg"
    ],
    "cwd": "[START_DIR]/3pp/wd/build_tools/tool/mac-amd64/1.5.0-rc1/verify",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/tool.run test.test.py mac [START_DIR]/3pp/wd/build_tools/tool/mac-amd64/1.5.0-rc1/verify/cipd.pkg",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "sudo",
      "xcode-select",
      "--reset"
    ],
    "cwd": "[START_DIR]/3pp/wd/build_tools/tool/mac-amd64/1.5.0-rc1/verify",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/tool.run test.reset XCode",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [],
    "name": "building build_tools/tool.do upload",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_LINK@40-chars-fake-of-the-package-instance_id@https://chrome-infra-packages.appspot.com/p/3pp/build_tools/tool/mac-amd64/+/40-chars-fake-of-the-package-instance_id@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "describe",
      "3pp/build_tools/tool/mac-amd64",
      "-version",
      "version:2@1.5.0-rc1.chops.1",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/tool.do upload.cipd describe 3pp/build_tools/tool/mac-amd64",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_TEXT@tag 'version:2@1.5.0-rc1.chops.1' not found@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"error\": \"no such tag\", @@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": null@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "pkg-register",
      "[CACHE]/3pp_cipd/3pp/build_tools/tool/mac-amd64/40-chars-fake-of-the-package-instance_id",
      "-tag",
      "3pp_ecosystem_hash:2393a4a4151c4933f7b07a7037bf824a0092acc8cf9a8c99f39b126f3b078b3b",
      "-tag",
      "build_id:8945511751514863184",
      "-tag",
      "version:2@1.5.0-rc1.chops.1",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/tool.do upload.register 3pp/build_tools/tool/mac-amd64",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"instance_id\": \"40-chars-fake-of-the-package-instance_id\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"package\": \"3pp/build_tools/tool/mac-amd64\"@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@",
      "@@@STEP_LINK@3pp/build_tools/tool/mac-amd64@https://chrome-infra-packages.appspot.com/p/3pp/build_tools/tool/mac-amd64/+/40-chars-fake-of-the-package-instance_id@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "file_hash",
      "[CACHE]/3pp_cipd/3pp/build_tools/tool/mac-amd64/40-chars-fake-of-the-package-instance_id"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/tool.do upload.Compute file hash",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_TEXT@Hash calculated: deadbeef@@@"
    ]
  },
  {
    "cmd": [
      "[START_DIR]/snoopy/snoopy_broker",
      "-report-cipd",
      "-digest",
      "deadbeef",
      "-pkg-name",
      "3pp/build_tools/tool/mac-amd64",
      "-iid",
      "40-chars-fake-of-the-package-instance_id"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.5.0-rc1"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/tool.do upload.report_cipd",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [],
    "name": "building build_tools/tool (2)"
  },
  {
    "cmd": [
      "git",
      "ls-remote",
      "-t",
      "https://go.repo/tool"
    ],
    "cwd": "[START_DIR]/3pp/wd/deps/bottom_dep_git/mac-amd64/1.5.0-rc1/checkout",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "build_tools/tool",
      "_3PP_PATCH_VERSION": "chops.1",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building build_tools/tool (2).git ls-remote",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_TEXT@resolved version: 1.5.0-rc1@@@"
    ]
  },
  {
    "cmd": [],
    "name": "building deps/dep"
  },
  {
    "cmd": [
      "cipd",
      "describe",
      "3pp/deps/dep/mac-amd64",
      "-version",
      "version:2@1.0.0",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/dep",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/dep.cipd describe 3pp/deps/dep/mac-amd64",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_TEXT@tag 'version:2@1.0.0' not found@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"error\": \"no such tag\", @@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": null@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "ensure-directory",
      "--mode",
      "0777",
      "[START_DIR]/3pp/wd/deps/dep/mac-amd64/1.0.0"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/dep",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.0.0"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/dep.mkdir -p [workdir]",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@"
    ]
  },
  {
    "cmd": [],
    "name": "building deps/dep.fetch sources",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@"
    ]
  },
  {
    "cmd": [],
    "name": "building deps/dep.fetch sources.installing tools",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "pkg-deploy",
      "[CACHE]/3pp_cipd/3pp/build_tools/tool/mac-amd64/40-chars-fake-of-the-package-instance_id",
      "-root",
      "[START_DIR]/3pp/wd/deps/dep/mac-amd64/1.0.0/tools_prefix",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/dep",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.0.0"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/dep.fetch sources.installing tools.cipd pkg-deploy [CACHE]/3pp_cipd/3pp/build_tools/tool/mac-amd64/40-chars-fake-of-the-package-instance_id",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@3@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"instance_id\": \"resolved-instance_id-of-version/of/40-ch\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"package\": \"pkg/name/of/40-chars-fake-of-the-package-instance_id\"@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [],
    "name": "building deps/dep.fetch sources.installing deps",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "pkg-deploy",
      "[CACHE]/3pp_cipd/3pp/deps/deep_dep/mac-amd64/40-chars-fake-of-the-package-instance_id",
      "-root",
      "[START_DIR]/3pp/wd/deps/dep/mac-amd64/1.0.0/deps_prefix",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/dep",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.0.0"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/dep.fetch sources.installing deps.cipd pkg-deploy [CACHE]/3pp_cipd/3pp/deps/deep_dep/mac-amd64/40-chars-fake-of-the-package-instance_id",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@3@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"instance_id\": \"resolved-instance_id-of-version/of/40-ch\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"package\": \"pkg/name/of/40-chars-fake-of-the-package-instance_id\"@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "ensure-directory",
      "--mode",
      "0777",
      "[START_DIR]/3pp/wd/deps/dep/mac-amd64/1.0.0/checkout"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/dep",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.0.0"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/dep.fetch sources.mkdir -p [workdir]/checkout/",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "pkg-fetch",
      "source/dep",
      "-version",
      "version:1.0.0",
      "-out",
      "[CLEANUP]/tmp_tmp_20",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/dep",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.0.0"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/dep.fetch sources.cipd pkg-fetch source/dep",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_TEXT@source/dep resolved-instance_id-of-version:1.0.0---@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"instance_id\": \"resolved-instance_id-of-version:1.0.0---\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"package\": \"source/dep\"@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "ensure-directory",
      "--mode",
      "0777",
      "[CACHE]/3pp_cipd/source/dep"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/dep",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.0.0"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/dep.fetch sources.ensure cipd package cache exists",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "move",
      "[CLEANUP]/tmp_tmp_20",
      "[CACHE]/3pp_cipd/source/dep/resolved-instance_id-of-version:1.0.0---"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/dep",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.0.0"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/dep.fetch sources.move fetched cipd package to cache",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "pkg-deploy",
      "[CACHE]/3pp_cipd/source/dep/resolved-instance_id-of-version:1.0.0---",
      "-root",
      "[START_DIR]/3pp/wd/deps/dep/mac-amd64/1.0.0/checkout",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/dep",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.0.0"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/dep.fetch sources.cipd pkg-deploy [CACHE]/3pp_cipd/source/dep/resolved-instance_id-of-version:1.0.0---",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"instance_id\": \"resolved-instance_id-of-version/of/resol\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"package\": \"pkg/name/of/resolved-instance_id-of-version:1.0.0---\"@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "copytree",
      "[CACHE]/builder/package_repo/dir_deps/bottom_dep_git",
      "[START_DIR]/3pp/wd/deps/dep/mac-amd64/1.0.0/checkout/.3pp/deps/bottom_dep_git"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/dep",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.0.0"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/dep.fetch sources.copy package definition deps/bottom_dep_git",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "copytree",
      "[CACHE]/builder/package_repo/dir_deps/bottom_dep_url",
      "[START_DIR]/3pp/wd/deps/dep/mac-amd64/1.0.0/checkout/.3pp/deps/bottom_dep_url"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/dep",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.0.0"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/dep.fetch sources.copy package definition deps/bottom_dep_url",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "copytree",
      "[CACHE]/builder/package_repo/dir_deps/deep_dep",
      "[START_DIR]/3pp/wd/deps/dep/mac-amd64/1.0.0/checkout/.3pp/deps/deep_dep"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/dep",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.0.0"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/dep.fetch sources.copy package definition deps/deep_dep",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "copytree",
      "[CACHE]/builder/package_repo/dir_build_tools/tool",
      "[START_DIR]/3pp/wd/deps/dep/mac-amd64/1.0.0/checkout/.3pp/build_tools/tool"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/dep",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.0.0"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/dep.fetch sources.copy package definition build_tools/tool",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "copytree",
      "[CACHE]/builder/package_repo/dir_deps/dep",
      "[START_DIR]/3pp/wd/deps/dep/mac-amd64/1.0.0/checkout/.3pp/deps/dep"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/dep",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.0.0"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/dep.fetch sources.copy package definition deps/dep",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [],
    "name": "building deps/dep.run installation",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "ensure-directory",
      "--mode",
      "0777",
      "[START_DIR]/3pp/wd/deps/dep/mac-amd64/1.0.0/out"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/dep",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.0.0"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/dep.run installation.make output dir",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "ensure",
      "-root",
      "[CACHE]/osx_sdk",
      "-ensure-file",
      "infra/tools/mac_toolchain/${platform} git_revision:723fc1a6c8cdf2631a57851f5610e598db0c1de1",
      "-max-threads",
      "0",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "cwd": "[START_DIR]/3pp/wd/deps/dep/mac-amd64/1.0.0/checkout",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/dep",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.0.0"
    },
    "env_prefixes": {
      "PATH": [
        "[START_DIR]/3pp/wd/deps/dep/mac-amd64/1.0.0/tools_prefix",
        "[START_DIR]/3pp/wd/deps/dep/mac-amd64/1.0.0/tools_prefix/bin"
      ]
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/dep.run installation.ensure_installed",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"\": [@@@",
      "@@@STEP_LOG_LINE@json.output@      {@@@",
      "@@@STEP_LOG_LINE@json.output@        \"instance_id\": \"resolved-instance_id-of-git_revision:723\", @@@",
      "@@@STEP_LOG_LINE@json.output@        \"package\": \"infra/tools/mac_toolchain/resolved-platform\"@@@",
      "@@@STEP_LOG_LINE@json.output@      }@@@",
      "@@@STEP_LOG_LINE@json.output@    ]@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "[CACHE]/osx_sdk/mac_toolchain",
      "install",
      "-kind",
      "mac",
      "-xcode-version",
      "9f2000",
      "-output-dir",
      "[CACHE]/osx_sdk/XCode.app"
    ],
    "cwd": "[START_DIR]/3pp/wd/deps/dep/mac-amd64/1.0.0/checkout",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/dep",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.0.0"
    },
    "env_prefixes": {
      "PATH": [
        "[START_DIR]/3pp/wd/deps/dep/mac-amd64/1.0.0/tools_prefix",
        "[START_DIR]/3pp/wd/deps/dep/mac-amd64/1.0.0/tools_prefix/bin"
      ]
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/dep.run installation.install xcode",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "sudo",
      "xcode-select",
      "--switch",
      "[CACHE]/osx_sdk/XCode.app"
    ],
    "cwd": "[START_DIR]/3pp/wd/deps/dep/mac-amd64/1.0.0/checkout",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/dep",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.0.0"
    },
    "env_prefixes": {
      "PATH": [
        "[START_DIR]/3pp/wd/deps/dep/mac-amd64/1.0.0/tools_prefix",
        "[START_DIR]/3pp/wd/deps/dep/mac-amd64/1.0.0/tools_prefix/bin"
      ]
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/dep.run installation.select XCode",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "bash",
      "[START_DIR]/3pp/wd/deps/dep/mac-amd64/1.0.0/checkout/.3pp/deps/dep/install.sh",
      "[START_DIR]/3pp/wd/deps/dep/mac-amd64/1.0.0/out",
      "[START_DIR]/3pp/wd/deps/dep/mac-amd64/1.0.0/deps_prefix"
    ],
    "cwd": "[START_DIR]/3pp/wd/deps/dep/mac-amd64/1.0.0/checkout",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/dep",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.0.0"
    },
    "env_prefixes": {
      "PATH": [
        "RECIPE_MODULE[infra::support_3pp]/resources/mac_support",
        "[START_DIR]/3pp/wd/deps/dep/mac-amd64/1.0.0/tools_prefix",
        "[START_DIR]/3pp/wd/deps/dep/mac-amd64/1.0.0/tools_prefix/bin"
      ]
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/dep.run installation.install.sh [START_DIR]/3pp/wd/deps/dep/mac-amd64/1.0.0/out [START_DIR]/3pp/wd/deps/dep/mac-amd64/1.0.0/deps_prefix",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "sudo",
      "xcode-select",
      "--reset"
    ],
    "cwd": "[START_DIR]/3pp/wd/deps/dep/mac-amd64/1.0.0/checkout",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/dep",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.0.0"
    },
    "env_prefixes": {
      "PATH": [
        "[START_DIR]/3pp/wd/deps/dep/mac-amd64/1.0.0/tools_prefix",
        "[START_DIR]/3pp/wd/deps/dep/mac-amd64/1.0.0/tools_prefix/bin"
      ]
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/dep.run installation.reset XCode",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "listdir",
      "[START_DIR]/3pp/wd/deps/dep/mac-amd64/1.0.0/out",
      "--recursive"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/dep",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.0.0"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/dep.List files to be packaged",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_LOG_END@listdir@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "pkg-build",
      "-pkg-def",
      "{\"data\": [{\"dir\": \".\", \"exclude\": []}], \"install_mode\": \"copy\", \"package\": \"3pp/deps/dep/mac-amd64\", \"root\": \"[START_DIR]/3pp/wd/deps/dep/mac-amd64/1.0.0/out\"}",
      "-out",
      "[CLEANUP]/tmp_tmp_21",
      "-hash-algo",
      "sha256",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/dep",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.0.0"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/dep.build 3pp/deps/dep/mac-amd64",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"instance_id\": \"40-chars-fake-of-the-package-instance_id\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"package\": \"3pp/deps/dep/mac-amd64\"@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "ensure-directory",
      "--mode",
      "0777",
      "[CACHE]/3pp_cipd/3pp/deps/dep/mac-amd64"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/dep",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.0.0"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/dep.ensure cipd pkg cache exists",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "move",
      "[CLEANUP]/tmp_tmp_21",
      "[CACHE]/3pp_cipd/3pp/deps/dep/mac-amd64/40-chars-fake-of-the-package-instance_id"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/dep",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.0.0"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/dep.mv built cipd pkg to cache",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@"
    ]
  },
  {
    "cmd": [],
    "name": "building deps/dep.do upload",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_LINK@40-chars-fake-of-the-package-instance_id@https://chrome-infra-packages.appspot.com/p/3pp/deps/dep/mac-amd64/+/40-chars-fake-of-the-package-instance_id@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "describe",
      "3pp/deps/dep/mac-amd64",
      "-version",
      "version:2@1.0.0",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/dep",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.0.0"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/dep.do upload.cipd describe 3pp/deps/dep/mac-amd64",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_TEXT@tag 'version:2@1.0.0' not found@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"error\": \"no such tag\", @@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": null@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "pkg-register",
      "[CACHE]/3pp_cipd/3pp/deps/dep/mac-amd64/40-chars-fake-of-the-package-instance_id",
      "-ref",
      "latest",
      "-tag",
      "3pp_ecosystem_hash:2393a4a4151c4933f7b07a7037bf824a0092acc8cf9a8c99f39b126f3b078b3b",
      "-tag",
      "build_id:8945511751514863184",
      "-tag",
      "version:2@1.0.0",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/dep",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.0.0"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/dep.do upload.register 3pp/deps/dep/mac-amd64",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"instance_id\": \"40-chars-fake-of-the-package-instance_id\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"package\": \"3pp/deps/dep/mac-amd64\"@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@",
      "@@@STEP_LINK@3pp/deps/dep/mac-amd64@https://chrome-infra-packages.appspot.com/p/3pp/deps/dep/mac-amd64/+/40-chars-fake-of-the-package-instance_id@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "file_hash",
      "[CACHE]/3pp_cipd/3pp/deps/dep/mac-amd64/40-chars-fake-of-the-package-instance_id"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/dep",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.0.0"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/dep.do upload.Compute file hash",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_TEXT@Hash calculated: deadbeef@@@"
    ]
  },
  {
    "cmd": [
      "[START_DIR]/snoopy/snoopy_broker",
      "-report-cipd",
      "-digest",
      "deadbeef",
      "-pkg-name",
      "3pp/deps/dep/mac-amd64",
      "-iid",
      "40-chars-fake-of-the-package-instance_id"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "deps/dep",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "1.0.0"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building deps/dep.do upload.report_cipd",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [],
    "name": "building tools/pkg"
  },
  {
    "cmd": [
      "vpython3",
      "-u",
      "[CACHE]/builder/package_repo/dir_tools/pkg/fetch.py",
      "latest"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg.fetch.py latest",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_TEXT@resolved version: 2.0.0@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "describe",
      "3pp/tools/pkg/mac-amd64",
      "-version",
      "version:2@2.0.0",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg.cipd describe 3pp/tools/pkg/mac-amd64",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_TEXT@tag 'version:2@2.0.0' not found@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"error\": \"no such tag\", @@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": null@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "ensure-directory",
      "--mode",
      "0777",
      "[START_DIR]/3pp/wd/tools/pkg/mac-amd64/2.0.0"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg.mkdir -p [workdir]",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@"
    ]
  },
  {
    "cmd": [],
    "name": "building tools/pkg.fetch sources",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@"
    ]
  },
  {
    "cmd": [],
    "name": "building tools/pkg.fetch sources.installing tools",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "pkg-deploy",
      "[CACHE]/3pp_cipd/3pp/build_tools/tool/mac-amd64/40-chars-fake-of-the-package-instance_id",
      "-root",
      "[START_DIR]/3pp/wd/tools/pkg/mac-amd64/2.0.0/tools_prefix",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg.fetch sources.installing tools.cipd pkg-deploy [CACHE]/3pp_cipd/3pp/build_tools/tool/mac-amd64/40-chars-fake-of-the-package-instance_id",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@3@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"instance_id\": \"resolved-instance_id-of-version/of/40-ch\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"package\": \"pkg/name/of/40-chars-fake-of-the-package-instance_id\"@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [],
    "name": "building tools/pkg.fetch sources.installing deps",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "pkg-deploy",
      "[CACHE]/3pp_cipd/3pp/deps/deep_dep/mac-amd64/40-chars-fake-of-the-package-instance_id",
      "-root",
      "[START_DIR]/3pp/wd/tools/pkg/mac-amd64/2.0.0/deps_prefix",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg.fetch sources.installing deps.cipd pkg-deploy [CACHE]/3pp_cipd/3pp/deps/deep_dep/mac-amd64/40-chars-fake-of-the-package-instance_id",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@3@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"instance_id\": \"resolved-instance_id-of-version/of/40-ch\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"package\": \"pkg/name/of/40-chars-fake-of-the-package-instance_id\"@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "pkg-deploy",
      "[CACHE]/3pp_cipd/3pp/deps/dep/mac-amd64/40-chars-fake-of-the-package-instance_id",
      "-root",
      "[START_DIR]/3pp/wd/tools/pkg/mac-amd64/2.0.0/deps_prefix",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg.fetch sources.installing deps.cipd pkg-deploy [CACHE]/3pp_cipd/3pp/deps/dep/mac-amd64/40-chars-fake-of-the-package-instance_id",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@3@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"instance_id\": \"resolved-instance_id-of-version/of/40-ch\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"package\": \"pkg/name/of/40-chars-fake-of-the-package-instance_id\"@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "ensure-directory",
      "--mode",
      "0777",
      "[START_DIR]/3pp/wd/tools/pkg/mac-amd64/2.0.0/checkout"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg.fetch sources.mkdir -p [workdir]/checkout/",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "describe",
      "3pp/sources/script/tools/pkg/mac-amd64",
      "-version",
      "version:2@2.0.0",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg.fetch sources.cipd describe 3pp/sources/script/tools/pkg/mac-amd64",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_TEXT@tag 'version:2@2.0.0' not found@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"error\": \"no such tag\", @@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": null@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "vpython3",
      "-u",
      "[CACHE]/builder/package_repo/dir_tools/pkg/fetch.py",
      "get_url"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg.fetch sources.fetch.py get_url",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"ext\": \".test\", @@@",
      "@@@STEP_LOG_LINE@json.output@  \"name\": [@@@",
      "@@@STEP_LOG_LINE@json.output@    \"test_source\"@@@",
      "@@@STEP_LOG_LINE@json.output@  ], @@@",
      "@@@STEP_LOG_LINE@json.output@  \"url\": [@@@",
      "@@@STEP_LOG_LINE@json.output@    \"https://some.internet.example.com/tools/pkg\"@@@",
      "@@@STEP_LOG_LINE@json.output@  ]@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::url]/resources/pycurl.py",
      "--url",
      "https://some.internet.example.com/tools/pkg",
      "--status-json",
      "/path/to/tmp/json",
      "--outfile",
      "[START_DIR]/3pp/wd/tools/pkg/mac-amd64/2.0.0/checkout/test_source"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg.fetch sources.GET https://some.internet.example.com/tools/pkg",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "pkg-build",
      "-pkg-def",
      "{\"data\": [{\"dir\": \".\", \"exclude\": []}], \"install_mode\": \"copy\", \"package\": \"3pp/sources/script/tools/pkg/mac-amd64\", \"preserve_writable\": true, \"root\": \"[START_DIR]/3pp/wd/tools/pkg/mac-amd64/2.0.0/checkout\"}",
      "-out",
      "[CLEANUP]/tmp_tmp_22",
      "-hash-algo",
      "sha256",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg.fetch sources.build 3pp/sources/script/tools/pkg/mac-amd64",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"instance_id\": \"40-chars-fake-of-the-package-instance_id\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"package\": \"3pp/sources/script/tools/pkg/mac-amd64\"@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "ensure-directory",
      "--mode",
      "0777",
      "[CACHE]/3pp_cipd/3pp/sources/script/tools/pkg/mac-amd64"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg.fetch sources.ensure cipd pkg cache exists",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "move",
      "[CLEANUP]/tmp_tmp_22",
      "[CACHE]/3pp_cipd/3pp/sources/script/tools/pkg/mac-amd64/40-chars-fake-of-the-package-instance_id"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg.fetch sources.mv built cipd pkg to cache",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [],
    "name": "building tools/pkg.fetch sources.upload source to cipd",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "describe",
      "3pp/sources/script/tools/pkg/mac-amd64",
      "-version",
      "version:2@2.0.0",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg.fetch sources.upload source to cipd.cipd describe 3pp/sources/script/tools/pkg/mac-amd64",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@3@@@",
      "@@@STEP_TEXT@tag 'version:2@2.0.0' not found@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"error\": \"no such tag\", @@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": null@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "pkg-register",
      "[CACHE]/3pp_cipd/3pp/sources/script/tools/pkg/mac-amd64/40-chars-fake-of-the-package-instance_id",
      "-tag",
      "build_id:8945511751514863184",
      "-tag",
      "version:2@2.0.0",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg.fetch sources.upload source to cipd.register 3pp/sources/script/tools/pkg/mac-amd64",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@3@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"instance_id\": \"40-chars-fake-of-the-package-instance_id\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"package\": \"3pp/sources/script/tools/pkg/mac-amd64\"@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@",
      "@@@STEP_LINK@3pp/sources/script/tools/pkg/mac-amd64@https://chrome-infra-packages.appspot.com/p/3pp/sources/script/tools/pkg/mac-amd64/+/40-chars-fake-of-the-package-instance_id@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "copytree",
      "[CACHE]/builder/package_repo/dir_deps/bottom_dep_git",
      "[START_DIR]/3pp/wd/tools/pkg/mac-amd64/2.0.0/checkout/.3pp/deps/bottom_dep_git"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg.fetch sources.copy package definition deps/bottom_dep_git",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "copytree",
      "[CACHE]/builder/package_repo/dir_deps/bottom_dep_url",
      "[START_DIR]/3pp/wd/tools/pkg/mac-amd64/2.0.0/checkout/.3pp/deps/bottom_dep_url"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg.fetch sources.copy package definition deps/bottom_dep_url",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "copytree",
      "[CACHE]/builder/package_repo/dir_deps/deep_dep",
      "[START_DIR]/3pp/wd/tools/pkg/mac-amd64/2.0.0/checkout/.3pp/deps/deep_dep"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg.fetch sources.copy package definition deps/deep_dep",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "copytree",
      "[CACHE]/builder/package_repo/dir_build_tools/tool",
      "[START_DIR]/3pp/wd/tools/pkg/mac-amd64/2.0.0/checkout/.3pp/build_tools/tool"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg.fetch sources.copy package definition build_tools/tool",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "copytree",
      "[CACHE]/builder/package_repo/dir_deps/dep",
      "[START_DIR]/3pp/wd/tools/pkg/mac-amd64/2.0.0/checkout/.3pp/deps/dep"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg.fetch sources.copy package definition deps/dep",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "copytree",
      "[CACHE]/builder/package_repo/dir_tools/pkg",
      "[START_DIR]/3pp/wd/tools/pkg/mac-amd64/2.0.0/checkout/.3pp/tools/pkg"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg.fetch sources.copy package definition tools/pkg",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [],
    "name": "building tools/pkg.run installation",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "ensure-directory",
      "--mode",
      "0777",
      "[START_DIR]/3pp/wd/tools/pkg/mac-amd64/2.0.0/out"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg.run installation.make output dir",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "ensure",
      "-root",
      "[CACHE]/osx_sdk",
      "-ensure-file",
      "infra/tools/mac_toolchain/${platform} git_revision:723fc1a6c8cdf2631a57851f5610e598db0c1de1",
      "-max-threads",
      "0",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "cwd": "[START_DIR]/3pp/wd/tools/pkg/mac-amd64/2.0.0/checkout",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "env_prefixes": {
      "PATH": [
        "[START_DIR]/3pp/wd/tools/pkg/mac-amd64/2.0.0/tools_prefix",
        "[START_DIR]/3pp/wd/tools/pkg/mac-amd64/2.0.0/tools_prefix/bin"
      ]
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg.run installation.ensure_installed",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"\": [@@@",
      "@@@STEP_LOG_LINE@json.output@      {@@@",
      "@@@STEP_LOG_LINE@json.output@        \"instance_id\": \"resolved-instance_id-of-git_revision:723\", @@@",
      "@@@STEP_LOG_LINE@json.output@        \"package\": \"infra/tools/mac_toolchain/resolved-platform\"@@@",
      "@@@STEP_LOG_LINE@json.output@      }@@@",
      "@@@STEP_LOG_LINE@json.output@    ]@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "[CACHE]/osx_sdk/mac_toolchain",
      "install",
      "-kind",
      "mac",
      "-xcode-version",
      "9f2000",
      "-output-dir",
      "[CACHE]/osx_sdk/XCode.app"
    ],
    "cwd": "[START_DIR]/3pp/wd/tools/pkg/mac-amd64/2.0.0/checkout",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "env_prefixes": {
      "PATH": [
        "[START_DIR]/3pp/wd/tools/pkg/mac-amd64/2.0.0/tools_prefix",
        "[START_DIR]/3pp/wd/tools/pkg/mac-amd64/2.0.0/tools_prefix/bin"
      ]
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg.run installation.install xcode",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "sudo",
      "xcode-select",
      "--switch",
      "[CACHE]/osx_sdk/XCode.app"
    ],
    "cwd": "[START_DIR]/3pp/wd/tools/pkg/mac-amd64/2.0.0/checkout",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "env_prefixes": {
      "PATH": [
        "[START_DIR]/3pp/wd/tools/pkg/mac-amd64/2.0.0/tools_prefix",
        "[START_DIR]/3pp/wd/tools/pkg/mac-amd64/2.0.0/tools_prefix/bin"
      ]
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg.run installation.select XCode",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "bash",
      "[START_DIR]/3pp/wd/tools/pkg/mac-amd64/2.0.0/checkout/.3pp/tools/pkg/install.sh",
      "[START_DIR]/3pp/wd/tools/pkg/mac-amd64/2.0.0/out",
      "[START_DIR]/3pp/wd/tools/pkg/mac-amd64/2.0.0/deps_prefix"
    ],
    "cwd": "[START_DIR]/3pp/wd/tools/pkg/mac-amd64/2.0.0/checkout",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "env_prefixes": {
      "PATH": [
        "RECIPE_MODULE[infra::support_3pp]/resources/mac_support",
        "[START_DIR]/3pp/wd/tools/pkg/mac-amd64/2.0.0/tools_prefix",
        "[START_DIR]/3pp/wd/tools/pkg/mac-amd64/2.0.0/tools_prefix/bin"
      ]
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg.run installation.install.sh [START_DIR]/3pp/wd/tools/pkg/mac-amd64/2.0.0/out [START_DIR]/3pp/wd/tools/pkg/mac-amd64/2.0.0/deps_prefix",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "sudo",
      "xcode-select",
      "--reset"
    ],
    "cwd": "[START_DIR]/3pp/wd/tools/pkg/mac-amd64/2.0.0/checkout",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "env_prefixes": {
      "PATH": [
        "[START_DIR]/3pp/wd/tools/pkg/mac-amd64/2.0.0/tools_prefix",
        "[START_DIR]/3pp/wd/tools/pkg/mac-amd64/2.0.0/tools_prefix/bin"
      ]
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg.run installation.reset XCode",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "listdir",
      "[START_DIR]/3pp/wd/tools/pkg/mac-amd64/2.0.0/out",
      "--recursive"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg.List files to be packaged",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_LOG_END@listdir@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "pkg-build",
      "-pkg-def",
      "{\"data\": [{\"dir\": \".\", \"exclude\": []}], \"install_mode\": \"copy\", \"package\": \"3pp/tools/pkg/mac-amd64\", \"root\": \"[START_DIR]/3pp/wd/tools/pkg/mac-amd64/2.0.0/out\"}",
      "-out",
      "[CLEANUP]/tmp_tmp_23",
      "-hash-algo",
      "sha256",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg.build 3pp/tools/pkg/mac-amd64",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"instance_id\": \"40-chars-fake-of-the-package-instance_id\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"package\": \"3pp/tools/pkg/mac-amd64\"@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "ensure-directory",
      "--mode",
      "0777",
      "[CACHE]/3pp_cipd/3pp/tools/pkg/mac-amd64"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg.ensure cipd pkg cache exists",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "move",
      "[CLEANUP]/tmp_tmp_23",
      "[CACHE]/3pp_cipd/3pp/tools/pkg/mac-amd64/40-chars-fake-of-the-package-instance_id"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg.mv built cipd pkg to cache",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@"
    ]
  },
  {
    "cmd": [],
    "name": "building tools/pkg.do upload",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_LINK@40-chars-fake-of-the-package-instance_id@https://chrome-infra-packages.appspot.com/p/3pp/tools/pkg/mac-amd64/+/40-chars-fake-of-the-package-instance_id@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "describe",
      "3pp/tools/pkg/mac-amd64",
      "-version",
      "version:2@2.0.0",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg.do upload.cipd describe 3pp/tools/pkg/mac-amd64",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_TEXT@tag 'version:2@2.0.0' not found@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"error\": \"no such tag\", @@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": null@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "pkg-register",
      "[CACHE]/3pp_cipd/3pp/tools/pkg/mac-amd64/40-chars-fake-of-the-package-instance_id",
      "-ref",
      "latest",
      "-tag",
      "3pp_ecosystem_hash:2393a4a4151c4933f7b07a7037bf824a0092acc8cf9a8c99f39b126f3b078b3b",
      "-tag",
      "build_id:8945511751514863184",
      "-tag",
      "version:2@2.0.0",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg.do upload.register 3pp/tools/pkg/mac-amd64",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"instance_id\": \"40-chars-fake-of-the-package-instance_id\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"package\": \"3pp/tools/pkg/mac-amd64\"@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@",
      "@@@STEP_LINK@3pp/tools/pkg/mac-amd64@https://chrome-infra-packages.appspot.com/p/3pp/tools/pkg/mac-amd64/+/40-chars-fake-of-the-package-instance_id@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "file_hash",
      "[CACHE]/3pp_cipd/3pp/tools/pkg/mac-amd64/40-chars-fake-of-the-package-instance_id"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg.do upload.Compute file hash",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_TEXT@Hash calculated: deadbeef@@@"
    ]
  },
  {
    "cmd": [
      "[START_DIR]/snoopy/snoopy_broker",
      "-report-cipd",
      "-digest",
      "deadbeef",
      "-pkg-name",
      "3pp/tools/pkg/mac-amd64",
      "-iid",
      "40-chars-fake-of-the-package-instance_id"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg.do upload.report_cipd",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [],
    "name": "building tools/pkg_checkout"
  },
  {
    "cmd": [
      "vpython3",
      "-u",
      "[CACHE]/builder/package_repo/dir_tools/pkg_checkout/fetch.py",
      "latest"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg_checkout",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg_checkout.fetch.py latest",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_TEXT@resolved version: 2.0.0@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "describe",
      "3pp/tools/pkg_checkout/mac-amd64",
      "-version",
      "version:2@2.0.0",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg_checkout",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg_checkout.cipd describe 3pp/tools/pkg_checkout/mac-amd64",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_TEXT@tag 'version:2@2.0.0' not found@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"error\": \"no such tag\", @@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": null@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "ensure-directory",
      "--mode",
      "0777",
      "[START_DIR]/3pp/wd/tools/pkg_checkout/mac-amd64/2.0.0"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg_checkout",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg_checkout.mkdir -p [workdir]",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@"
    ]
  },
  {
    "cmd": [],
    "name": "building tools/pkg_checkout.fetch sources",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@"
    ]
  },
  {
    "cmd": [],
    "name": "building tools/pkg_checkout.fetch sources.installing tools",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "pkg-deploy",
      "[CACHE]/3pp_cipd/3pp/build_tools/tool/mac-amd64/40-chars-fake-of-the-package-instance_id",
      "-root",
      "[START_DIR]/3pp/wd/tools/pkg_checkout/mac-amd64/2.0.0/tools_prefix",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg_checkout",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg_checkout.fetch sources.installing tools.cipd pkg-deploy [CACHE]/3pp_cipd/3pp/build_tools/tool/mac-amd64/40-chars-fake-of-the-package-instance_id",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@3@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"instance_id\": \"resolved-instance_id-of-version/of/40-ch\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"package\": \"pkg/name/of/40-chars-fake-of-the-package-instance_id\"@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [],
    "name": "building tools/pkg_checkout.fetch sources.installing deps",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "pkg-deploy",
      "[CACHE]/3pp_cipd/3pp/deps/deep_dep/mac-amd64/40-chars-fake-of-the-package-instance_id",
      "-root",
      "[START_DIR]/3pp/wd/tools/pkg_checkout/mac-amd64/2.0.0/deps_prefix",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg_checkout",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg_checkout.fetch sources.installing deps.cipd pkg-deploy [CACHE]/3pp_cipd/3pp/deps/deep_dep/mac-amd64/40-chars-fake-of-the-package-instance_id",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@3@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"instance_id\": \"resolved-instance_id-of-version/of/40-ch\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"package\": \"pkg/name/of/40-chars-fake-of-the-package-instance_id\"@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "pkg-deploy",
      "[CACHE]/3pp_cipd/3pp/deps/dep/mac-amd64/40-chars-fake-of-the-package-instance_id",
      "-root",
      "[START_DIR]/3pp/wd/tools/pkg_checkout/mac-amd64/2.0.0/deps_prefix",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg_checkout",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg_checkout.fetch sources.installing deps.cipd pkg-deploy [CACHE]/3pp_cipd/3pp/deps/dep/mac-amd64/40-chars-fake-of-the-package-instance_id",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@3@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"instance_id\": \"resolved-instance_id-of-version/of/40-ch\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"package\": \"pkg/name/of/40-chars-fake-of-the-package-instance_id\"@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "ensure-directory",
      "--mode",
      "0777",
      "[START_DIR]/3pp/wd/tools/pkg_checkout/mac-amd64/2.0.0/checkout"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg_checkout",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg_checkout.fetch sources.mkdir -p [workdir]/checkout/",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "describe",
      "3pp/sources/script/tools/pkg_checkout/mac-amd64",
      "-version",
      "version:2@2.0.0",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg_checkout",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg_checkout.fetch sources.cipd describe 3pp/sources/script/tools/pkg_checkout/mac-amd64",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_TEXT@tag 'version:2@2.0.0' not found@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"error\": \"no such tag\", @@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": null@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "vpython3",
      "-u",
      "[CACHE]/builder/package_repo/dir_tools/pkg_checkout/fetch.py",
      "checkout",
      "[START_DIR]/3pp/wd/tools/pkg_checkout/mac-amd64/2.0.0/checkout"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg_checkout",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg_checkout.fetch sources.fetch.py checkout [START_DIR]/3pp/wd/tools/pkg_checkout/mac-amd64/2.0.0/checkout",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "pkg-build",
      "-pkg-def",
      "{\"data\": [{\"dir\": \".\", \"exclude\": []}], \"install_mode\": \"copy\", \"package\": \"3pp/sources/script/tools/pkg_checkout/mac-amd64\", \"preserve_writable\": true, \"root\": \"[START_DIR]/3pp/wd/tools/pkg_checkout/mac-amd64/2.0.0/checkout\"}",
      "-out",
      "[CLEANUP]/tmp_tmp_24",
      "-hash-algo",
      "sha256",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg_checkout",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg_checkout.fetch sources.build 3pp/sources/script/tools/pkg_checkout/mac-amd64",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"instance_id\": \"40-chars-fake-of-the-package-instance_id\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"package\": \"3pp/sources/script/tools/pkg_checkout/mac-amd64\"@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "ensure-directory",
      "--mode",
      "0777",
      "[CACHE]/3pp_cipd/3pp/sources/script/tools/pkg_checkout/mac-amd64"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg_checkout",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg_checkout.fetch sources.ensure cipd pkg cache exists",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "move",
      "[CLEANUP]/tmp_tmp_24",
      "[CACHE]/3pp_cipd/3pp/sources/script/tools/pkg_checkout/mac-amd64/40-chars-fake-of-the-package-instance_id"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg_checkout",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg_checkout.fetch sources.mv built cipd pkg to cache",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [],
    "name": "building tools/pkg_checkout.fetch sources.upload source to cipd",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "describe",
      "3pp/sources/script/tools/pkg_checkout/mac-amd64",
      "-version",
      "version:2@2.0.0",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg_checkout",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg_checkout.fetch sources.upload source to cipd.cipd describe 3pp/sources/script/tools/pkg_checkout/mac-amd64",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@3@@@",
      "@@@STEP_TEXT@tag 'version:2@2.0.0' not found@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"error\": \"no such tag\", @@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": null@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "pkg-register",
      "[CACHE]/3pp_cipd/3pp/sources/script/tools/pkg_checkout/mac-amd64/40-chars-fake-of-the-package-instance_id",
      "-tag",
      "build_id:8945511751514863184",
      "-tag",
      "version:2@2.0.0",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg_checkout",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg_checkout.fetch sources.upload source to cipd.register 3pp/sources/script/tools/pkg_checkout/mac-amd64",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@3@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"instance_id\": \"40-chars-fake-of-the-package-instance_id\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"package\": \"3pp/sources/script/tools/pkg_checkout/mac-amd64\"@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@",
      "@@@STEP_LINK@3pp/sources/script/tools/pkg_checkout/mac-amd64@https://chrome-infra-packages.appspot.com/p/3pp/sources/script/tools/pkg_checkout/mac-amd64/+/40-chars-fake-of-the-package-instance_id@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "copytree",
      "[CACHE]/builder/package_repo/dir_deps/bottom_dep_git",
      "[START_DIR]/3pp/wd/tools/pkg_checkout/mac-amd64/2.0.0/checkout/.3pp/deps/bottom_dep_git"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg_checkout",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg_checkout.fetch sources.copy package definition deps/bottom_dep_git",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "copytree",
      "[CACHE]/builder/package_repo/dir_deps/bottom_dep_url",
      "[START_DIR]/3pp/wd/tools/pkg_checkout/mac-amd64/2.0.0/checkout/.3pp/deps/bottom_dep_url"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg_checkout",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg_checkout.fetch sources.copy package definition deps/bottom_dep_url",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "copytree",
      "[CACHE]/builder/package_repo/dir_deps/deep_dep",
      "[START_DIR]/3pp/wd/tools/pkg_checkout/mac-amd64/2.0.0/checkout/.3pp/deps/deep_dep"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg_checkout",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg_checkout.fetch sources.copy package definition deps/deep_dep",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "copytree",
      "[CACHE]/builder/package_repo/dir_build_tools/tool",
      "[START_DIR]/3pp/wd/tools/pkg_checkout/mac-amd64/2.0.0/checkout/.3pp/build_tools/tool"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg_checkout",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg_checkout.fetch sources.copy package definition build_tools/tool",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "copytree",
      "[CACHE]/builder/package_repo/dir_deps/dep",
      "[START_DIR]/3pp/wd/tools/pkg_checkout/mac-amd64/2.0.0/checkout/.3pp/deps/dep"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg_checkout",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg_checkout.fetch sources.copy package definition deps/dep",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "copytree",
      "[CACHE]/builder/package_repo/dir_tools/pkg_checkout",
      "[START_DIR]/3pp/wd/tools/pkg_checkout/mac-amd64/2.0.0/checkout/.3pp/tools/pkg_checkout"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg_checkout",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg_checkout.fetch sources.copy package definition tools/pkg_checkout",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [],
    "name": "building tools/pkg_checkout.run installation",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "ensure-directory",
      "--mode",
      "0777",
      "[START_DIR]/3pp/wd/tools/pkg_checkout/mac-amd64/2.0.0/out"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg_checkout",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg_checkout.run installation.make output dir",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "ensure",
      "-root",
      "[CACHE]/osx_sdk",
      "-ensure-file",
      "infra/tools/mac_toolchain/${platform} git_revision:723fc1a6c8cdf2631a57851f5610e598db0c1de1",
      "-max-threads",
      "0",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "cwd": "[START_DIR]/3pp/wd/tools/pkg_checkout/mac-amd64/2.0.0/checkout",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg_checkout",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "env_prefixes": {
      "PATH": [
        "[START_DIR]/3pp/wd/tools/pkg_checkout/mac-amd64/2.0.0/tools_prefix",
        "[START_DIR]/3pp/wd/tools/pkg_checkout/mac-amd64/2.0.0/tools_prefix/bin"
      ]
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg_checkout.run installation.ensure_installed",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"\": [@@@",
      "@@@STEP_LOG_LINE@json.output@      {@@@",
      "@@@STEP_LOG_LINE@json.output@        \"instance_id\": \"resolved-instance_id-of-git_revision:723\", @@@",
      "@@@STEP_LOG_LINE@json.output@        \"package\": \"infra/tools/mac_toolchain/resolved-platform\"@@@",
      "@@@STEP_LOG_LINE@json.output@      }@@@",
      "@@@STEP_LOG_LINE@json.output@    ]@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "[CACHE]/osx_sdk/mac_toolchain",
      "install",
      "-kind",
      "mac",
      "-xcode-version",
      "9f2000",
      "-output-dir",
      "[CACHE]/osx_sdk/XCode.app"
    ],
    "cwd": "[START_DIR]/3pp/wd/tools/pkg_checkout/mac-amd64/2.0.0/checkout",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg_checkout",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "env_prefixes": {
      "PATH": [
        "[START_DIR]/3pp/wd/tools/pkg_checkout/mac-amd64/2.0.0/tools_prefix",
        "[START_DIR]/3pp/wd/tools/pkg_checkout/mac-amd64/2.0.0/tools_prefix/bin"
      ]
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg_checkout.run installation.install xcode",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "sudo",
      "xcode-select",
      "--switch",
      "[CACHE]/osx_sdk/XCode.app"
    ],
    "cwd": "[START_DIR]/3pp/wd/tools/pkg_checkout/mac-amd64/2.0.0/checkout",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg_checkout",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "env_prefixes": {
      "PATH": [
        "[START_DIR]/3pp/wd/tools/pkg_checkout/mac-amd64/2.0.0/tools_prefix",
        "[START_DIR]/3pp/wd/tools/pkg_checkout/mac-amd64/2.0.0/tools_prefix/bin"
      ]
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg_checkout.run installation.select XCode",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "bash",
      "[START_DIR]/3pp/wd/tools/pkg_checkout/mac-amd64/2.0.0/checkout/.3pp/tools/pkg_checkout/install.sh",
      "[START_DIR]/3pp/wd/tools/pkg_checkout/mac-amd64/2.0.0/out",
      "[START_DIR]/3pp/wd/tools/pkg_checkout/mac-amd64/2.0.0/deps_prefix"
    ],
    "cwd": "[START_DIR]/3pp/wd/tools/pkg_checkout/mac-amd64/2.0.0/checkout",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg_checkout",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "env_prefixes": {
      "PATH": [
        "RECIPE_MODULE[infra::support_3pp]/resources/mac_support",
        "[START_DIR]/3pp/wd/tools/pkg_checkout/mac-amd64/2.0.0/tools_prefix",
        "[START_DIR]/3pp/wd/tools/pkg_checkout/mac-amd64/2.0.0/tools_prefix/bin"
      ]
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg_checkout.run installation.install.sh [START_DIR]/3pp/wd/tools/pkg_checkout/mac-amd64/2.0.0/out [START_DIR]/3pp/wd/tools/pkg_checkout/mac-amd64/2.0.0/deps_prefix",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "sudo",
      "xcode-select",
      "--reset"
    ],
    "cwd": "[START_DIR]/3pp/wd/tools/pkg_checkout/mac-amd64/2.0.0/checkout",
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg_checkout",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "env_prefixes": {
      "PATH": [
        "[START_DIR]/3pp/wd/tools/pkg_checkout/mac-amd64/2.0.0/tools_prefix",
        "[START_DIR]/3pp/wd/tools/pkg_checkout/mac-amd64/2.0.0/tools_prefix/bin"
      ]
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg_checkout.run installation.reset XCode",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "listdir",
      "[START_DIR]/3pp/wd/tools/pkg_checkout/mac-amd64/2.0.0/out",
      "--recursive"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg_checkout",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg_checkout.List files to be packaged",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_LOG_END@listdir@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "pkg-build",
      "-pkg-def",
      "{\"data\": [{\"dir\": \".\", \"exclude\": []}], \"install_mode\": \"copy\", \"package\": \"3pp/tools/pkg_checkout/mac-amd64\", \"root\": \"[START_DIR]/3pp/wd/tools/pkg_checkout/mac-amd64/2.0.0/out\"}",
      "-out",
      "[CLEANUP]/tmp_tmp_25",
      "-hash-algo",
      "sha256",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg_checkout",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg_checkout.build 3pp/tools/pkg_checkout/mac-amd64",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"instance_id\": \"40-chars-fake-of-the-package-instance_id\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"package\": \"3pp/tools/pkg_checkout/mac-amd64\"@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "ensure-directory",
      "--mode",
      "0777",
      "[CACHE]/3pp_cipd/3pp/tools/pkg_checkout/mac-amd64"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg_checkout",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg_checkout.ensure cipd pkg cache exists",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "move",
      "[CLEANUP]/tmp_tmp_25",
      "[CACHE]/3pp_cipd/3pp/tools/pkg_checkout/mac-amd64/40-chars-fake-of-the-package-instance_id"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg_checkout",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg_checkout.mv built cipd pkg to cache",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@"
    ]
  },
  {
    "cmd": [],
    "name": "building tools/pkg_checkout.do upload",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_LINK@40-chars-fake-of-the-package-instance_id@https://chrome-infra-packages.appspot.com/p/3pp/tools/pkg_checkout/mac-amd64/+/40-chars-fake-of-the-package-instance_id@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "describe",
      "3pp/tools/pkg_checkout/mac-amd64",
      "-version",
      "version:2@2.0.0",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg_checkout",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg_checkout.do upload.cipd describe 3pp/tools/pkg_checkout/mac-amd64",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_TEXT@tag 'version:2@2.0.0' not found@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"error\": \"no such tag\", @@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": null@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "pkg-register",
      "[CACHE]/3pp_cipd/3pp/tools/pkg_checkout/mac-amd64/40-chars-fake-of-the-package-instance_id",
      "-ref",
      "latest",
      "-tag",
      "3pp_ecosystem_hash:2393a4a4151c4933f7b07a7037bf824a0092acc8cf9a8c99f39b126f3b078b3b",
      "-tag",
      "build_id:8945511751514863184",
      "-tag",
      "version:2@2.0.0",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg_checkout",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg_checkout.do upload.register 3pp/tools/pkg_checkout/mac-amd64",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"instance_id\": \"40-chars-fake-of-the-package-instance_id\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"package\": \"3pp/tools/pkg_checkout/mac-amd64\"@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@",
      "@@@STEP_LINK@3pp/tools/pkg_checkout/mac-amd64@https://chrome-infra-packages.appspot.com/p/3pp/tools/pkg_checkout/mac-amd64/+/40-chars-fake-of-the-package-instance_id@@@"
    ]
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "file_hash",
      "[CACHE]/3pp_cipd/3pp/tools/pkg_checkout/mac-amd64/40-chars-fake-of-the-package-instance_id"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg_checkout",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "infra_step": true,
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg_checkout.do upload.Compute file hash",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_TEXT@Hash calculated: deadbeef@@@"
    ]
  },
  {
    "cmd": [
      "[START_DIR]/snoopy/snoopy_broker",
      "-report-cipd",
      "-digest",
      "deadbeef",
      "-pkg-name",
      "3pp/tools/pkg_checkout/mac-amd64",
      "-iid",
      "40-chars-fake-of-the-package-instance_id"
    ],
    "env": {
      "CIPD_CACHE_DIR": "[CLEANUP]/tmp_tmp_1",
      "GOARCH": "amd64",
      "GOOS": "darwin",
      "MACOSX_DEPLOYMENT_TARGET": "10.10",
      "_3PP_CIPD_PACKAGE_NAME": "tools/pkg_checkout",
      "_3PP_PLATFORM": "mac-amd64",
      "_3PP_TOOL_PLATFORM": "mac-amd64",
      "_3PP_VERSION": "2.0.0"
    },
    "luci_context": {
      "realm": {
        "name": "project:ci"
      },
      "resultdb": {
        "current_invocation": {
          "name": "invocations/build:8945511751514863184",
          "update_token": "token"
        },
        "hostname": "rdbhost"
      }
    },
    "name": "building tools/pkg_checkout.do upload.report_cipd",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [],
    "name": "compute build plan (2)"
  },
  {
    "name": "$result"
  }
]